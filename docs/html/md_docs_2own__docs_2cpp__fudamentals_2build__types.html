<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AnimationEngineCPP: Build Type in CPP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AnimationEngineCPP<span id="projectnumber">&#160;0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Build Type in CPP</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md10"></a>keyword: static, dynamic, framework</p>
<p>Here's a table that compares dynamic libraries and static libraries in various aspects:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Aspect</b>   </th><th class="markdownTableHeadNone"><b>Dynamic Library</b>   </th><th class="markdownTableHeadNone"><b>Static Library</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Description</b>   </td><td class="markdownTableBodyNone">Libraries that are loaded at runtime.   </td><td class="markdownTableBodyNone">Libraries that are linked at compile time.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Extension</b>   </td><td class="markdownTableBodyNone">Typically <code>.dll</code> (Windows), <code>.so</code> (Linux), <code>.dylib</code> (macOS).   </td><td class="markdownTableBodyNone">Typically <code>.lib</code> (Windows), <code>.a</code> (Unix/Linux/macOS).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Linking Type</b>   </td><td class="markdownTableBodyNone">Dynamic Linking   </td><td class="markdownTableBodyNone">Static Linking    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Size of Executable</b>   </td><td class="markdownTableBodyNone">Generally smaller, as the actual library code resides in the shared library.   </td><td class="markdownTableBodyNone">Larger, as the library code is incorporated into the final executable.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Memory Footprint</b>   </td><td class="markdownTableBodyNone">Multiple programs can share a single instance in memory.   </td><td class="markdownTableBodyNone">Each program has its own copy of the library functions in memory.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Loading Time</b>   </td><td class="markdownTableBodyNone">May increase, as linking is done at runtime.   </td><td class="markdownTableBodyNone">Typically faster, as all linking is done at compile time.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Versioning</b>   </td><td class="markdownTableBodyNone">Can update without recompiling dependent applications (if ABI is preserved).   </td><td class="markdownTableBodyNone">Applications must be recompiled if the library is updated.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Portability</b>   </td><td class="markdownTableBodyNone">Executable needs the correct version of the library present at runtime.   </td><td class="markdownTableBodyNone">No external dependencies are required at runtime.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Performance</b>   </td><td class="markdownTableBodyNone">Slight overhead due to dynamic linking, though often negligible.   </td><td class="markdownTableBodyNone">Might be slightly faster due to early binding.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Compilation Time</b>   </td><td class="markdownTableBodyNone">Might be faster as each change to the library doesn't require recompiling dependent applications.   </td><td class="markdownTableBodyNone">Could be slower, especially if the library is large and the application needs to be relinked often.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Code Snippet (Compilation)</b>   </td><td class="markdownTableBodyNone"><code>gcc -shared -o <a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">libmylib.so</a> mylib.c</code> (Linux)   </td><td class="markdownTableBodyNone"><code>ar rcs libmylib.a <a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">mylib.o</a></code> (after compiling <code>mylib.c</code> to object file)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Code Snippet (Linking)</b>   </td><td class="markdownTableBodyNone"><code>gcc -o myprog myprog.c -L/path/to/lib -lmylib</code> (dynamic linking in Linux)   </td><td class="markdownTableBodyNone"><code>gcc -o myprog myprog.c -L/path/to/lib -lmylib</code> (static linking)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Distribution</b>   </td><td class="markdownTableBodyNone">Must distribute the library and the executable. Also, may need to consider version compatibility.   </td><td class="markdownTableBodyNone">Only the executable is distributed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Use Case</b>   </td><td class="markdownTableBodyNone">When you expect updates to the library without wanting to recompile all dependent applications. Also, for plugins.   </td><td class="markdownTableBodyNone">When you want a standalone executable without any external dependencies.   </td></tr>
</table>
<p><b>Notes:</b></p>
<ol type="1">
<li>The above table provides a general overview. The specifics can vary based on the operating system, compiler, and specific use cases.</li>
<li>Dynamic libraries also have the concept of an "Application Binary Interface" (ABI). If you maintain ABI compatibility, you can update a dynamic library without recompiling programs that use it. However, if you break ABI compatibility, it requires recompilation.</li>
<li>Always consider licensing when distributing libraries. Some licenses have different requirements or implications for static vs. dynamic linking.</li>
</ol>
<ul>
<li><b>Note</b>: The "Compilation Time" aspect is a general observation and the actual compilation time can vary based on the size of the library, the number of dependencies, and the specific system and build setup.</li>
</ul>
<h1><a class="anchor" id="autotoc_md11"></a>
Hello World library - both as static and dyanmic</h1>
<p>let's create a simple "Hello World" library, both as a static library and a dynamic library.</p>
<ol type="1">
<li>**Library Code (<code><a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">hello.cpp</a></code>)**</li>
</ol>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_class" href="class_vector__2d.html">hello</a>() {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Hello, World from the library!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_vector__2d_html"><div class="ttname"><a href="class_vector__2d.html">Vector_2d</a></div><div class="ttdef"><b>Definition</b> <a href="_vector__2d_8h_source.html#l00015">Vector_2d.h:15</a></div></div>
</div><!-- fragment --><ol type="1">
<li><b>Static Library Compilation</b>:</li>
</ol>
<p>To create a static library:</p>
<div class="fragment"><div class="line">g++ -c hello.cpp -o hello.o</div>
<div class="line">ar rcs libhello.a hello.o</div>
</div><!-- fragment --><ol type="1">
<li><b>Dynamic Library Compilation</b>:</li>
</ol>
<p>To create a dynamic/shared library:</p>
<div class="fragment"><div class="line">g++ -shared -fPIC hello.cpp -o libhello.so</div>
</div><!-- fragment --><ol type="1">
<li>**Using the Libraries in a Main Program (<code><a class="el" href="main_8cpp.html">main.cpp</a></code>)**</li>
</ol>
<div class="fragment"><div class="line"><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_class" href="class_vector__2d.html">hello</a>();</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>() {</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">hello</a>();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="a_c_make_c_x_x_compiler_id_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition</b> <a href="_c_make_c_x_x_compiler_id_8cpp_source.html#l00830">CMakeCXXCompilerId.cpp:830</a></div></div>
</div><!-- fragment --><ol type="1">
<li><b>Linking with the Static Library</b>:</li>
</ol>
<div class="fragment"><div class="line">g++ main.cpp -L. -lhello -o static_hello</div>
</div><!-- fragment --><ol type="1">
<li><b>Linking with the Dynamic Library</b>:</li>
</ol>
<div class="fragment"><div class="line">g++ main.cpp -L. -lhello -o dynamic_hello</div>
</div><!-- fragment --><ul>
<li>Make sure the dynamic library is in the library path or in the same directory when running the executable, or use <code>LD_LIBRARY_PATH</code>:</li>
</ul>
<div class="fragment"><div class="line">export LD_LIBRARY_PATH=.:$LD_LIBRARY_PATH</div>
<div class="line">./dynamic_hello</div>
</div><!-- fragment --><p><b>Comparison Table</b>:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Aspect</b>   </th><th class="markdownTableHeadNone"><b>Static Library</b>   </th><th class="markdownTableHeadNone"><b>Dynamic Library</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Compilation</b>   </td><td class="markdownTableBodyNone">Two steps: Compile source to object file, then archive object files into a library.   </td><td class="markdownTableBodyNone">Compile with <code>-shared</code> to directly create the shared library.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Linking</b>   </td><td class="markdownTableBodyNone">Library content is included in the final executable.   </td><td class="markdownTableBodyNone">Only references to library functions are included. Library must be present at runtime.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Executable Size</b>   </td><td class="markdownTableBodyNone">Generally larger, as library content is embedded inside it.   </td><td class="markdownTableBodyNone">Smaller. The actual library code is in the shared library, not the executable.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Distribution</b>   </td><td class="markdownTableBodyNone">Just the executable is required.   </td><td class="markdownTableBodyNone">Both the executable and the shared library (.so, .dll) must be distributed.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Update Library</b>   </td><td class="markdownTableBodyNone">Need to relink and possibly recompile the executable.   </td><td class="markdownTableBodyNone">Just replace the shared library file (if ABI compatibility is maintained).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Performance</b>   </td><td class="markdownTableBodyNone">No overhead of dynamic linking at runtime.   </td><td class="markdownTableBodyNone">Minimal overhead due to dynamic linking, but generally negligible.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Flexibility</b>   </td><td class="markdownTableBodyNone">Not as flexible. Changing the library requires relinking the executable.   </td><td class="markdownTableBodyNone">More flexible. Applications can use different versions or implementations of a library without needing to be recompiled or relinked.   </td></tr>
</table>
<p>This table provides a general comparison between static and dynamic libraries in the context of a "Hello World" library. The exact benefits and trade-offs can vary based on the specific use-case and system setup.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
How about Framework</h1>
<ul>
<li>Framework is a bundle, usually in <code>macOS</code>, read more about it in the <code>CMake_for_Professional</code> book.</li>
</ul>
<p><img src="./images/M02.png" alt="Meaning of framework" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md13"></a>
What is a Framework?</h2>
<p>A framework in the context of software development is a pre-written set of code or tools that provides generic functionality, upon which more specific software can be built. Frameworks enable developers to avoid "reinventing the wheel" by offering a structure and foundation for building applications.</p>
<p><b>Examples</b>:</p>
<ol type="1">
<li><b>Web Development</b>: Django is a high-level Python web framework that encourages rapid development and clean, pragmatic design.</li>
<li><b>Mobile Development</b>: SwiftUI is a framework for building UIs across all Apple devices with the power of Swift.</li>
<li><b>Desktop Development</b>: Qt is a free and open-source widget toolkit for creating GUIs as well as cross-platform applications that run on various software and hardware platforms.</li>
</ol>
<h2><a class="anchor" id="autotoc_md14"></a>
Using Frameworks in CMakeLists.txt</h2>
<p>When using a framework in CMake, you typically use the <code>find_package</code> command to locate the framework, and then link against it.</p>
<p><b>Example</b> (using a hypothetical "MyFramework"):</p>
<div class="fragment"><div class="line"># Find the MyFramework package</div>
<div class="line">find_package(MyFramework REQUIRED)</div>
<div class="line"> </div>
<div class="line"># Link against MyFramework when creating your executable or library</div>
<div class="line">add_executable(my_app main.cpp)</div>
<div class="line">target_link_libraries(my_app PRIVATE MyFramework::MyFramework)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md15"></a>
Using Frameworks in the Command Line</h2>
<p>When you're compiling a program from the command line, you often have to specify where the compiler can find the framework headers and libraries. In macOS, frameworks are typically bundled in a <code>.framework</code> directory.</p>
<p><b>Example</b> (using a hypothetical "MyFramework"):</p>
<div class="fragment"><div class="line">g++ main.cpp -F /path/to/framework/directory -framework MyFramework -o my_app</div>
</div><!-- fragment --><ul>
<li>In the above, <code>-F</code> specifies the path to search for frameworks and <code>-framework</code> is used to link against a specific framework.</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
Features, Usages, and Common Practices for Frameworks:</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Feature</b>   </th><th class="markdownTableHeadNone"><b>Description</b>   </th><th class="markdownTableHeadNone"><b>Common Practices</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Structure and Organization</b>   </td><td class="markdownTableBodyNone">Provides a predefined structure for organizing code, resources, and other assets.   </td><td class="markdownTableBodyNone">Stick to the structure provided by the framework for maintainability and better collaboration.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Reusable Components</b>   </td><td class="markdownTableBodyNone">Contains pre-built components or modules that can be reused across different parts of an application.   </td><td class="markdownTableBodyNone">Use the built-in components before trying to build custom solutions; it saves time and ensures consistency.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Documentation and Community</b>   </td><td class="markdownTableBodyNone">Often comes with extensive documentation and a supportive community.   </td><td class="markdownTableBodyNone">Regularly consult the official documentation; participate in community forums or discussion boards for support.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Extensibility</b>   </td><td class="markdownTableBodyNone">Allows developers to extend or override built-in functionality to cater to specific requirements.   </td><td class="markdownTableBodyNone">Use extension points provided by the framework; avoid "hacking" or working against the framework's design.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Testing and Debugging</b>   </td><td class="markdownTableBodyNone">Often includes tools or modules for testing and debugging to ensure the application works correctly.   </td><td class="markdownTableBodyNone">Regularly write tests as you develop; utilize built-in debugging tools for efficient troubleshooting.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Updates and Maintenance</b>   </td><td class="markdownTableBodyNone">Regularly receives updates, which might include new features, bug fixes, or performance improvements.   </td><td class="markdownTableBodyNone">Stay updated with the latest version; however, always test the application thoroughly after updating the framework.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md17"></a>
Common Frameworks for macOS:</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Framework</b>   </th><th class="markdownTableHeadNone"><b>Description</b>   </th><th class="markdownTableHeadNone"><b>Common Use Cases</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Cocoa/Cocoa Touch</b>   </td><td class="markdownTableBodyNone">Apple's native object-oriented APIs for macOS/iOS UI development.   </td><td class="markdownTableBodyNone">Building native macOS and iOS applications.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Core Foundation</b>   </td><td class="markdownTableBodyNone">C-based framework by Apple that provides data types and utilities for macOS and iOS.   </td><td class="markdownTableBodyNone">Used for low-level operations in macOS and iOS development.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Metal</b>   </td><td class="markdownTableBodyNone">High-performance graphics and compute API by Apple.   </td><td class="markdownTableBodyNone">Game development, graphics-intensive apps, and compute tasks on macOS.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>WebKit</b>   </td><td class="markdownTableBodyNone">The web rendering engine behind Safari, used for embedding web content in apps.   </td><td class="markdownTableBodyNone">Building web browsers or embedding web content within native apps.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Core ML</b>   </td><td class="markdownTableBodyNone">Apple's machine learning framework for adding trained ML models into applications.   </td><td class="markdownTableBodyNone">Implementing machine learning features in macOS/iOS apps.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>SceneKit/SpriteKit</b>   </td><td class="markdownTableBodyNone">Graphics rendering and animation infrastructure for creating 3D (SceneKit) and 2D (SpriteKit) graphics.   </td><td class="markdownTableBodyNone">Game development and 3D/2D graphics on macOS/iOS.   </td></tr>
</table>
<ul>
<li>Frameworks serve as a foundational layer or a scaffold upon which developers build their applications. They provide a consistent and structured way to build applications, enabling developers to focus on the unique aspects of their application rather than the repetitive or common functionalities. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
