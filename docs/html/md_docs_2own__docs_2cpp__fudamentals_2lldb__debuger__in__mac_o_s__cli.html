<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AnimationEngineCPP: LLDB Debugger in MacOS for CPP - Using lldb command line</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AnimationEngineCPP<span id="projectnumber">&#160;0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">LLDB Debugger in MacOS for CPP - Using lldb command line</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md113"></a></p>
<ul>
<li>Content</li>
<li>Example Project<ul>
<li>Step-1 Build your binary</li>
<li>Step-2 Running the LLDB</li>
<li>Step-3 Set a breakpoint</li>
<li>Setup-4 Run again</li>
</ul>
</li>
<li>Other command line for lldb very much useful</li>
<li>References</li>
</ul>
<h1><a class="anchor" id="autotoc_md114"></a>
Content</h1>
<p>How to run a debugging in command line using the <code>lldb</code> which is used to understand more about how the program is running. I will demonstrate here with an example to make it easy to be used later.</p>
<h1><a class="anchor" id="autotoc_md115"></a>
Example Project</h1>
<ul>
<li>[x] Assume we are having the following structure. ![[Pasted image <a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">20230824233713.png</a>]]</li>
</ul>
<h2><a class="anchor" id="autotoc_md116"></a>
Step-1 Build your binary</h2>
<ul>
<li>[x] It is very important to use the flag <code>-g</code> for your complier, later I discovered that if you don't use it the setting breakpoint for the <code>lldb</code> will not work. Its crucial to add this flag &gt; When you don't compile with the <code>-g</code> flag, the generated binary lacks all this essential debug information. Consequently, trying to set a breakpoint on a specific line of source code would be meaningless to the debugger, as it wouldn't have the mapping from that line to a specific location in the binary. That's why you encounter issues when trying to debug a binary that hasn't been compiled with debug information.</li>
</ul>
<div class="fragment"><div class="line">clang++ -std=c++17 -g ./src/main.cpp -o ./build/debug/main &amp;&amp; ./build/debug/main</div>
</div><!-- fragment --><ul>
<li>Notice how we added the flag <code>-g</code> as we stated.<ul>
<li>This flag is automatic in <code>Rust</code> which is not available in <code>CPP</code>, so we have to add it manually.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md117"></a>
Step-2 Running the LLDB</h2>
<ul>
<li>[x] Here you have two options first either you provide the <code>binary</code> at the starting of the <code>lldb</code> as shown below</li>
</ul>
<div class="fragment"><div class="line">lldb ./build/debug/main</div>
</div><!-- fragment --><ul>
<li>[x] Or by running the CLI inside</li>
</ul>
<div class="fragment"><div class="line">(lldb) target create ./build/debug/main</div>
</div><!-- fragment --><ul>
<li>[x] It is much effective at this point to run while inside the lldb the value<ul>
<li>[x] Use <code>r</code> or <code>run</code> after you created the target, this will ensure to run the binary and connect it to your files.</li>
<li>[x] Always you can use <code>tab</code> to autocomplete the command and seek other options offered by the <code>lldb</code>.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md118"></a>
Step-3 Set a breakpoint</h2>
<p>Setting a breakpoint will work once you built your binary using the <code>-g</code> flag, and it will offer you also auto-complete to your commands and will understand where to find the files.</p>
<ul>
<li>[x] Setting a breakpoint can be done by several ways, the easiest way is to use:<ul>
<li>[x] I am running the following command at the root directory, so it will understand there is a file inside <code>src</code> directory even if I don't specify as you can see in the command below:</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line">(lldbinit) breakpoint set --file main.cpp --line 83</div>
</div><!-- fragment --><ul>
<li>[x] You have to be sure about where to set your breakpoint, usually inside a <code>for-loop</code> so we can track the changes, and not exit immediately once we run.<ul>
<li>[x] There is also another way if you have several files and you want to set a breakpoint at specific function that you know the function name, you can use</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line">(lldbinit) breakpoint set --name &lt;function_name&gt;</div>
<div class="line"># Example</div>
<div class="line">(lldbinit) breakpoint set --name main</div>
</div><!-- fragment --><ul>
<li>[x] To list all breakpoints you can use</li>
</ul>
<div class="fragment"><div class="line">(lldb) breakpoint list</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md119"></a>
Setup-4 Run again</h2>
<ul>
<li>[x] Run the <code>lldb</code> again and it will run and stop at the breakpoint that you set it ,<ul>
<li>[x] There are two commands that I use often, these are <code>print &lt;variable&gt;</code> or <code>p var</code> which will show the value, can also be used for expression,</li>
<li>[x] Also I read the memory address of a given variable using <code>memory read &amp;variable</code> (usually it is necessary to use the <code>&amp;</code> in front the variable name)</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md120"></a>
Other command line for lldb very much useful</h1>
<p>The following commands are very much useful and I use them a lot when I run debugging in <code>C++</code>,</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Command Group</b>   </th><th class="markdownTableHeadNone"><b>Command</b>   </th><th class="markdownTableHeadNone"><b>Description</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Program Execution</b>   </td><td class="markdownTableBodyNone"><code>run</code> or <code>r</code>   </td><td class="markdownTableBodyNone">Start or restart the debugged program.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>continue</code> or <code>c</code>   </td><td class="markdownTableBodyNone">Continue execution after stopping at a breakpoint.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>step</code> or <code>s</code>   </td><td class="markdownTableBodyNone">Execute next line, step into functions.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>next</code> or <code>n</code>   </td><td class="markdownTableBodyNone">Execute next line, step over functions.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>finish</code> or <code>f</code>   </td><td class="markdownTableBodyNone">Execute until the current function completes.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>kill</code>   </td><td class="markdownTableBodyNone">Terminate the running program.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Breakpoints</b>   </td><td class="markdownTableBodyNone"><code>breakpoint set --name &lt;function_name&gt;</code>   </td><td class="markdownTableBodyNone">Set breakpoint on a function.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>breakpoint set --file &lt;file_name&gt; --line &lt;line_number&gt;</code>   </td><td class="markdownTableBodyNone">Set breakpoint on a specific line.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>breakpoint list</code>   </td><td class="markdownTableBodyNone">List all breakpoints.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>breakpoint delete &lt;breakpoint_id&gt;</code>   </td><td class="markdownTableBodyNone">Remove a breakpoint.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>breakpoint enable &lt;breakpoint_id&gt;</code>   </td><td class="markdownTableBodyNone">Enable a breakpoint.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>breakpoint disable &lt;breakpoint_id&gt;</code>   </td><td class="markdownTableBodyNone">Disable a breakpoint without deleting it.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Inspecting State</b>   </td><td class="markdownTableBodyNone"><code>print &lt;expression&gt;</code> or <code>p &lt;expression&gt;</code>   </td><td class="markdownTableBodyNone">Print value of an expression/variable.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>frame variable</code> or <code>fr v</code>   </td><td class="markdownTableBodyNone">Display local variables.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>frame select &lt;index&gt;</code>   </td><td class="markdownTableBodyNone">Select a different frame.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Stack &amp; Thread</b>   </td><td class="markdownTableBodyNone"><code>thread list</code>   </td><td class="markdownTableBodyNone">List all threads.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>thread select &lt;thread_id&gt;</code>   </td><td class="markdownTableBodyNone">Switch to a different thread.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>bt</code> or <code>backtrace</code>   </td><td class="markdownTableBodyNone">Display the current thread's call stack.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Memory &amp; Registers</b>   </td><td class="markdownTableBodyNone"><code>memory read &lt;address&gt;</code> or <code>x &lt;address&gt;</code>   </td><td class="markdownTableBodyNone">Read memory from an address.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>register read</code>   </td><td class="markdownTableBodyNone">Display all registers.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>register read &lt;register_name&gt;</code>   </td><td class="markdownTableBodyNone">Display a specific register.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>File &amp; Source Navigation</b>   </td><td class="markdownTableBodyNone"><code>list</code>   </td><td class="markdownTableBodyNone">Display source code around current line.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>list &lt;file_name&gt;:&lt;line_number&gt;</code>   </td><td class="markdownTableBodyNone">Display source code around specified line.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Watchpoints</b>   </td><td class="markdownTableBodyNone"><code>watchpoint set variable &lt;variable_name&gt;</code>   </td><td class="markdownTableBodyNone">Set watchpoint on a variable.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>watchpoint list</code>   </td><td class="markdownTableBodyNone">List all watchpoints.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>watchpoint delete &lt;watchpoint_id&gt;</code>   </td><td class="markdownTableBodyNone">Remove a watchpoint.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Handling Input/Output</b>   </td><td class="markdownTableBodyNone"><code>process launch -- &lt;args&gt;</code>   </td><td class="markdownTableBodyNone">Start program with arguments.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>process handle &lt;signal_name&gt; --stop</code>   </td><td class="markdownTableBodyNone">Stop program on a specific signal.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Miscellaneous</b>   </td><td class="markdownTableBodyNone"><code>help</code>   </td><td class="markdownTableBodyNone">Display command help.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>quit</code> or <code>q</code>   </td><td class="markdownTableBodyNone">Exit LLDB.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>settings set target.input-path &lt;file&gt;</code>   </td><td class="markdownTableBodyNone">Redirect input from a file.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"><code>settings set target.output-path &lt;file&gt;</code>   </td><td class="markdownTableBodyNone">Redirect output to a file.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Loading Scripts &amp; Extensions</b>   </td><td class="markdownTableBodyNone"><code>command script import &lt;path_to_python_script&gt;</code>   </td><td class="markdownTableBodyNone">Load a Python script to extend LLDB functionalities.   </td></tr>
</table>
<p>This table provides an organized reference for the common LLDB commands. Remember, you can always use the <code>help</code> command in LLDB for more detailed information on any specific command.</p>
<h1><a class="anchor" id="autotoc_md121"></a>
References</h1>
<ul>
<li>[x] <a href="https://lldb.llvm.org/use/tutorial.html">Tutorial â€” The LLDB Debugger</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
