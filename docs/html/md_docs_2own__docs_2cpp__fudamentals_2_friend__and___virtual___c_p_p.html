<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AnimationEngineCPP: &lt;em&gt;What is Friend declaration&lt;/em&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AnimationEngineCPP<span id="projectnumber">&#160;0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">&lt;em&gt;What is Friend declaration&lt;/em&gt;</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md91"></a> The friend declaration appears in a class body and grants a function or another class access to private and protected members of the class where the friend declaration appears.</p>
<p>___Syntax___</p>
<blockquote class="doxtable">
<p>&zwj;friend function-declaration (1) friend function-definition (2) friend elaborated-class-specifier ; (3) friend simple-type-specifier ; (4) (since C++11) friend typename-specifier ; (5) </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md92"></a>
&lt;em&gt;Description&lt;/em&gt;</h2>
<ul>
<li>Designates a function or several functions as friends of this class: <div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">Y</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a740d7f00b044f54a556c7208e01f9f02">data</a>; <span class="comment">// private member</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// the non-member function operator&lt;&lt; will have access to Y&#39;s private members</span></div>
<div class="line">    <span class="keyword">friend</span> std::ostream&amp; <a class="code hl_function" href="logging_8h.html#a4108d325b90a6d1fb7377e77f08e80c3">operator&lt;&lt;</a>(std::ostream&amp; <a class="code hl_class" href="class_vector__2d.html">out</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_vector__2d.html">Y</a>&amp; <a class="code hl_class" href="class_vector__2d.html">o</a>);</div>
<div class="line">    <span class="keyword">friend</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">X::foo</a>(<span class="keywordtype">int</span>); <span class="comment">// members of other classes can be friends too</span></div>
<div class="line">    <span class="keyword">friend</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">X::X</a>(<span class="keywordtype">char</span>), <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">X::~X</a>(); <span class="comment">// constructors and destructors can be friends</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// friend declaration does not declare a member function</span></div>
<div class="line"><span class="comment">// this operator&lt;&lt; still needs to be defined, as a non-member</span></div>
<div class="line">std::ostream&amp; <a class="code hl_function" href="logging_8h.html#a4108d325b90a6d1fb7377e77f08e80c3">operator&lt;&lt;</a>(std::ostream&amp; <a class="code hl_class" href="class_vector__2d.html">out</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_vector__2d.html">Y</a>&amp; <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a1675d9d7bb68e1657ff028643b4037e3">y</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_class" href="class_vector__2d.html">out</a> &lt;&lt; <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a1675d9d7bb68e1657ff028643b4037e3">y</a>.data; <span class="comment">// can access private member Y::data</span></div>
<div class="line">}</div>
<div class="ttc" id="a_s_d_l__opengl_8h_html_a1675d9d7bb68e1657ff028643b4037e3"><div class="ttname"><a href="_s_d_l__opengl_8h.html#a1675d9d7bb68e1657ff028643b4037e3">y</a></div><div class="ttdeci">GLint GLint GLint GLint GLint GLint y</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl_8h_source.html#l01574">SDL_opengl.h:1574</a></div></div>
<div class="ttc" id="a_s_d_l__opengl_8h_html_a740d7f00b044f54a556c7208e01f9f02"><div class="ttname"><a href="_s_d_l__opengl_8h.html#a740d7f00b044f54a556c7208e01f9f02">data</a></div><div class="ttdeci">GLint GLenum GLsizei GLsizei GLsizei GLint GLsizei const GLvoid * data</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl_8h_source.html#l01974">SDL_opengl.h:1974</a></div></div>
<div class="ttc" id="aclass_vector__2d_html"><div class="ttname"><a href="class_vector__2d.html">Vector_2d</a></div><div class="ttdef"><b>Definition</b> <a href="_vector__2d_8h_source.html#l00015">Vector_2d.h:15</a></div></div>
<div class="ttc" id="aclass_vector__2d_html_a6d09fb691e01f179efcbef03bef13b9c"><div class="ttname"><a href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">Vector_2d::Vector_2d</a></div><div class="ttdeci">Vector_2d()</div><div class="ttdef"><b>Definition</b> <a href="_vector__2d_8cpp_source.html#l00018">Vector_2d.cpp:18</a></div></div>
<div class="ttc" id="alogging_8h_html_a4108d325b90a6d1fb7377e77f08e80c3"><div class="ttname"><a href="logging_8h.html#a4108d325b90a6d1fb7377e77f08e80c3">operator&lt;&lt;</a></div><div class="ttdeci">std::ostream &amp; operator&lt;&lt;(std::ostream &amp;out, const google::DummyClassToDefineOperator &amp;)</div><div class="ttdef"><b>Definition</b> <a href="logging_8h_source.html#l00755">logging.h:755</a></div></div>
</div><!-- fragment --></li>
<li>(only allowed in non-local class definitions) Defines a non-member function, and makes it a friend of this class at the same time. Such non-member function is always inline, unless it is attached to a named module (since C++20).</li>
</ul>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">X</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">friend</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">friend_set</a>(<a class="code hl_class" href="class_vector__2d.html">X</a>&amp; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#aa5367c14d90f462230c2611b81b41d23">p</a>, <span class="keywordtype">int</span> i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#aa5367c14d90f462230c2611b81b41d23">p</a>.a = i; <span class="comment">// this is a non-member function</span></div>
<div class="line">    }</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">member_set</a>(<span class="keywordtype">int</span> i)</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a> = i; <span class="comment">// this is a member function</span></div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_aa5367c14d90f462230c2611b81b41d23"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#aa5367c14d90f462230c2611b81b41d23">p</a></div><div class="ttdeci">GLfloat GLfloat p</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl__glext_8h_source.html#l13126">SDL_opengl_glext.h:13126</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_ac8729153468b5dcf13f971b21d84d4e5"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a></div><div class="ttdeci">GLboolean GLboolean GLboolean GLboolean a</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl__glext_8h_source.html#l01417">SDL_opengl_glext.h:1417</a></div></div>
</div><!-- fragment --><ul>
<li>Designates the class, struct, or union named by the elaborated-class-specifier (see elaborated type specifier) as a friend of this class. This means that the friend's member declarations and definitions can access private and protected members of this class and also that the friend can inherit from private and protected members of this class. The name of the class that is used in this friend declaration does not need to be previously declared.</li>
<li>Designates the type named by the simple-type-specifier or typename-specifier as a friend of this class if that type is a (possibly cv-qualified) class, struct, or union; otherwise the friend declaration is ignored. This declaration will not forward declare a new type.</li>
</ul>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">Y</a> {};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">A</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a740d7f00b044f54a556c7208e01f9f02">data</a>; <span class="comment">// private data member</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">B</a> {}; <span class="comment">// private nested type</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">enum</span> { <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a> = 100 }; <span class="comment">// private enumerator</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">X</a>; <span class="comment">// friend class forward declaration (elaborated class specifier)</span></div>
<div class="line">    <span class="keyword">friend</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">Y</a>; <span class="comment">// friend class declaration (simple type specifier) (since c++11)</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">X</a> : <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">A::B</a> <span class="comment">// OK: A::B accessible to friend</span></div>
<div class="line">{</div>
<div class="line">    <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">A::B</a> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">mx</a>; <span class="comment">// OK: A::B accessible to member of friend</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">Y</a></div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">A::B</a> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">my</a>; <span class="comment">// OK: A::B accessible to nested member of friend</span></div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a55f85da29bf761fde63cc95d26300230">v</a>[A::a]; <span class="comment">// OK: A::a accessible to member of friend</span></div>
<div class="line">};</div>
<div class="ttc" id="a_s_d_l__opengl_8h_html_a55f85da29bf761fde63cc95d26300230"><div class="ttname"><a href="_s_d_l__opengl_8h.html#a55f85da29bf761fde63cc95d26300230">v</a></div><div class="ttdeci">const GLdouble * v</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl_8h_source.html#l02064">SDL_opengl.h:2064</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md93"></a>
&lt;em&gt;Notes&lt;/em&gt;</h2>
<blockquote class="doxtable">
<p>&zwj;Friendship is not transitive (a friend of your friend is not your friend). Friendship is not inherited (your friend's children are not your friends, and your friends are not your children's friends). </p>
</blockquote>
<p>Storage class specifiers are not allowed in friend function declarations. A function that is defined in the friend declaration has external linkage, a function that was previously defined, keeps the linkage it was defined with. </p><blockquote class="doxtable">
<p>&zwj;Access specifiers have no effect on the meaning of friend declarations (they can appear in private: or in public: sections, with no difference). A friend class declaration cannot define a new class (friend class X {}; is an error). </p>
</blockquote>
<p>When a local class declares an unqualified function or class as a friend, only functions and classes in the innermost non-class scope are looked up, not the global functions:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">F</a> {};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>();</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">Local</a> <span class="comment">// Local class in the main() function</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">friend</span> <span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); <span class="comment">// Error, no such function declared in main()</span></div>
<div class="line">        <span class="keyword">friend</span> <span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a>(); <span class="comment">// OK, there is a declaration for g in main()</span></div>
<div class="line">        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">F</a>; <span class="comment">// friends a local F (defined later)</span></div>
<div class="line">        <span class="keyword">friend</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">class ::F</a>; <span class="comment">// friends the global F</span></div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">F</a> {}; <span class="comment">// local F</span></div>
<div class="line">}</div>
<div class="ttc" id="a_c_make_c_x_x_compiler_id_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition</b> <a href="_c_make_c_x_x_compiler_id_8cpp_source.html#l00830">CMakeCXXCompilerId.cpp:830</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a7a611b28eaed9ea8dda79c38887b3f0e"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a></div><div class="ttdeci">GLfloat f</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl__glext_8h_source.html#l02144">SDL_opengl_glext.h:2144</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a9cd653b1648845554169fbc3a3f6d37a"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a></div><div class="ttdeci">GLboolean GLboolean g</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl__glext_8h_source.html#l01417">SDL_opengl_glext.h:1417</a></div></div>
</div><!-- fragment --><p>A name first declared in a friend declaration within a class or class template X becomes a member of the innermost enclosing namespace of X, but is not visible for lookup (except argument-dependent lookup that considers X) unless a matching declaration at namespace scope is provided - see namespaces for details. Template friends Both function template and class template declarations may appear with the friend specifier in any non-local class or class template (although only function templates may be defined within the class or class template that is granting friendship). In this case, every specialization of the template becomes a friend, whether it is implicitly instantiated, partially specialized, or explicitly specialized.</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">A</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">B</a>; <span class="comment">// every B&lt;T&gt; is a friend of A</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keyword">friend</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(<a class="code hl_class" href="class_vector__2d.html">T</a>) {} <span class="comment">// every f&lt;T&gt; is a friend of A</span></div>
<div class="line">};</div>
<div class="line"><span class="comment">// Friend declarations cannot refer to partial specializations, but can refer to full specializations:</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">A</a> {};      <span class="comment">// primary</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">A</a>&lt;<a class="code hl_class" href="class_vector__2d.html">T</a>*&gt; {};  <span class="comment">// partial</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">A</a>&lt;int&gt; {}; <span class="comment">// full</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">X</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line">    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">A</a>&lt;<a class="code hl_class" href="class_vector__2d.html">T</a>*&gt;;  <span class="comment">// error!</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">A</a>&lt;int&gt;; <span class="comment">// OK</span></div>
<div class="line">};</div>
</div><!-- fragment --><p> When a friend declaration refers to a full specialization of a function template, the keywords inline/constexpr (since C++11)/consteval (since C++20) and default arguments cannot be used:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(<span class="keywordtype">int</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">f&lt;int&gt;</a>(<span class="keywordtype">int</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">X</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">friend</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">f&lt;int&gt;</a>(<span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#abe1577120f1766eff913e9a74879f373">x</a> = 1); <span class="comment">// error: default args not allowed</span></div>
<div class="line">};</div>
<div class="ttc" id="a_s_d_l__opengl_8h_html_abe1577120f1766eff913e9a74879f373"><div class="ttname"><a href="_s_d_l__opengl_8h.html#abe1577120f1766eff913e9a74879f373">x</a></div><div class="ttdeci">GLint GLint GLint GLint GLint x</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl_8h_source.html#l01574">SDL_opengl.h:1574</a></div></div>
</div><!-- fragment --><p>A template friend declaration can name a member of a class template A, which can be either a member function or a member type (the type must use elaborated-type-specifier). Such declaration is only well-formed if the last component in its nested-name-specifier (the name to the left of the last ::) is a simple-template-id (template name followed by argument list in angle brackets) that names the class template. The template parameters of such template friend declaration must be deducible from the simple-template-id.</p>
<p>In this case, the member of any specialization of either A or partial specializations of A becomes a friend. This does not involve instantiating the primary template A or partial specializations of A: the only requirements are that the deduction of the template parameters of A from that specialization succeeds, and that substitution of the deduced template arguments into the friend declaration produces a declaration that would be a valid redeclaration of the member of the specialization:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="comment">// primary template</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">A</a></div>
<div class="line">{ </div>
<div class="line">    <span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">B</a> {};</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">D</a> { <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a>(); };</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">T</a> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#afa0fb1b5e976920c0abeff2dca3ed774">h</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;T U&gt;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">T</a> i();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// full specialization</span></div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">A</a>&lt;int&gt;</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">B</a> {};</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">D</a> { <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a>(); };</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> U&gt;</div>
<div class="line">    <span class="keywordtype">int</span> i();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// another full specialization</span></div>
<div class="line"><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">A</a>&lt;<a class="code hl_class" href="class_vector__2d.html">float</a>*&gt;</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> *<a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#afa0fb1b5e976920c0abeff2dca3ed774">h</a>();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the non-template class granting friendship to members of class template A</span></div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">X</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line">    <span class="keyword">friend</span> <span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">A</a>&lt;<a class="code hl_class" href="class_vector__2d.html">T</a>&gt;::<a class="code hl_class" href="class_vector__2d.html">B</a>; <span class="comment">// all A&lt;T&gt;::B are friends, including A&lt;int&gt;::B</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">template</a>&lt;class T&gt;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">friend</a> <a class="code hl_function" href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a> <a class="code hl_class" href="class_vector__2d.html">A</a>&lt;T&gt;<a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">::f</a>(); <span class="comment">// A&lt;int&gt;::f() is not a friend because its signature</span></div>
<div class="line">                           <span class="comment">// does not match, but e.g. A&lt;char&gt;::f() is a friend</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">//  template&lt;class T&gt;</span></div>
<div class="line"><span class="comment">//  friend void A&lt;T&gt;::D::g(); // ill-formed, the last part of the nested-name-specifier,</span></div>
<div class="line"><span class="comment">//                            // D in A&lt;T&gt;::D::, is not simple-template-id</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">template</a>&lt;class T&gt;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">friend</a> int* <a class="code hl_class" href="class_vector__2d.html">A</a>&lt;T*&gt;<a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#afa0fb1b5e976920c0abeff2dca3ed774">::h</a>(); <span class="comment">// all A&lt;T*&gt;::h are friends:</span></div>
<div class="line">                            <span class="comment">// A&lt;float*&gt;::h(), A&lt;int*&gt;::h(), etc</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">template</a>&lt;class T&gt; </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">template</a>&lt;T U&gt;       <span class="comment">// all instantiations of A&lt;T&gt;::i() and A&lt;int&gt;::i() are friends, </span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">friend</a> <a class="code hl_class" href="class_vector__2d.html">T</a> <a class="code hl_class" href="class_vector__2d.html">A</a>&lt;T&gt;::i(); <span class="comment">// and thereby all specializations of those function templates</span></div>
<div class="line">};</div>
<div class="ttc" id="a_s_d_l__opengl_8h_html_a46df6112013cf583e82b25cebd5cb499"><div class="ttname"><a href="_s_d_l__opengl_8h.html#a46df6112013cf583e82b25cebd5cb499">void</a></div><div class="ttdeci">typedef void(APIENTRYP PFNGLDRAWRANGEELEMENTSPROC)(GLenum mode</div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_afa0fb1b5e976920c0abeff2dca3ed774"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#afa0fb1b5e976920c0abeff2dca3ed774">h</a></div><div class="ttdeci">GLfloat GLfloat GLfloat GLfloat h</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl__glext_8h_source.html#l02220">SDL_opengl_glext.h:2220</a></div></div>
</div><!-- fragment --><p>Default template arguments are only allowed on template friend declarations if the declaration is a definition and no other declarations of this function template appear in this translation unit. (since C++11) Template friend operators A common use case for template friends is declaration of a non-member operator overload that acts on a class template, e.g. operator&lt;&lt;(std::ostream&amp;, const Foo&lt;T&gt;&amp;) for some user-defined Foo&lt;T&gt;. Such operator can be defined in the class body, which has the effect of generating a separate non-template operator&lt;&lt; for each T and makes that non-template operator&lt;&lt; a friend of its Foo&lt;T&gt;:</p>
<p>___Try this code:___</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">Foo</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">Foo</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_vector__2d.html">T</a>&amp; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a26942fd2ed566ef553eae82d2c109c8f">val</a>) : <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a740d7f00b044f54a556c7208e01f9f02">data</a>(<a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a26942fd2ed566ef553eae82d2c109c8f">val</a>) {}</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">T</a> <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a740d7f00b044f54a556c7208e01f9f02">data</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// generates a non-template operator&lt;&lt; for this T</span></div>
<div class="line">    <span class="keyword">friend</span> std::ostream&amp; <a class="code hl_function" href="logging_8h.html#a4108d325b90a6d1fb7377e77f08e80c3">operator&lt;&lt;</a>(std::ostream&amp; <a class="code hl_class" href="class_vector__2d.html">os</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_vector__2d.html">Foo</a>&amp; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a0c0d4701a6c89f4f7f0640715d27ab26">obj</a>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_class" href="class_vector__2d.html">os</a> &lt;&lt; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a0c0d4701a6c89f4f7f0640715d27ab26">obj</a>.data;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Foo&lt;double&gt;</a> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a0c0d4701a6c89f4f7f0640715d27ab26">obj</a>(1.23);</div>
<div class="line">    std::cout &lt;&lt; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a0c0d4701a6c89f4f7f0640715d27ab26">obj</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">}</div>
<div class="line"><span class="comment">// Output: 1.23</span></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a0c0d4701a6c89f4f7f0640715d27ab26"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#a0c0d4701a6c89f4f7f0640715d27ab26">obj</a></div><div class="ttdeci">GLhandleARB obj</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl__glext_8h_source.html#l04417">SDL_opengl_glext.h:4417</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a26942fd2ed566ef553eae82d2c109c8f"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#a26942fd2ed566ef553eae82d2c109c8f">val</a></div><div class="ttdeci">GLuint GLfloat * val</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl__glext_8h_source.html#l01766">SDL_opengl_glext.h:1766</a></div></div>
</div><!-- fragment --><p> or the function template has to be declared as a template before the class body, in which case the friend declaration within Foo&lt;T&gt; can refer to the full specialization of operator&lt;&lt; for its T:</p>
<p>___Try this code:___</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">Foo</a>; <span class="comment">// forward declare to make function declaration possible</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="comment">// declaration</span></div>
<div class="line">std::ostream&amp; <a class="code hl_function" href="logging_8h.html#a4108d325b90a6d1fb7377e77f08e80c3">operator&lt;&lt;</a>(std::ostream&amp;, <span class="keyword">const</span> <a class="code hl_class" href="class_vector__2d.html">Foo&lt;T&gt;</a>&amp;);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">Foo</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">Foo</a>(<span class="keyword">const</span> <a class="code hl_class" href="class_vector__2d.html">T</a>&amp; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a26942fd2ed566ef553eae82d2c109c8f">val</a>) : <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a740d7f00b044f54a556c7208e01f9f02">data</a>(<a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a26942fd2ed566ef553eae82d2c109c8f">val</a>) {}</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">T</a> <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a740d7f00b044f54a556c7208e01f9f02">data</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// refers to a full specialization for this particular T </span></div>
<div class="line">    <span class="keyword">friend</span> std::ostream&amp; <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">operator&lt;&lt; &lt;&gt; </a>(std::ostream&amp;, <span class="keyword">const</span> <a class="code hl_class" href="class_vector__2d.html">Foo</a>&amp;);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// note: this relies on template argument deduction in declarations</span></div>
<div class="line">    <span class="comment">// can also specify the template argument with operator&lt;&lt; &lt;T&gt;&quot;</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// definition</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">std::ostream&amp; <a class="code hl_function" href="logging_8h.html#a4108d325b90a6d1fb7377e77f08e80c3">operator&lt;&lt;</a>(std::ostream&amp; <a class="code hl_class" href="class_vector__2d.html">os</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_vector__2d.html">Foo&lt;T&gt;</a>&amp; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a0c0d4701a6c89f4f7f0640715d27ab26">obj</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_class" href="class_vector__2d.html">os</a> &lt;&lt; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a0c0d4701a6c89f4f7f0640715d27ab26">obj</a>.data;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Foo&lt;double&gt;</a> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a0c0d4701a6c89f4f7f0640715d27ab26">obj</a>(1.23);</div>
<div class="line">    std::cout &lt;&lt; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a0c0d4701a6c89f4f7f0640715d27ab26">obj</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>___Example___ Stream insertion and extraction operators are often declared as non-member friends:</p>
<p>Try this code</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">MyClass</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i;                   <span class="comment">// friends have access to non-public, non-static</span></div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>{6}; <span class="comment">// and static (possibly inline) members</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">friend</span> std::ostream&amp; <a class="code hl_function" href="logging_8h.html#a4108d325b90a6d1fb7377e77f08e80c3">operator&lt;&lt;</a>(std::ostream&amp; <a class="code hl_class" href="class_vector__2d.html">out</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_vector__2d.html">MyClass</a>&amp;);</div>
<div class="line">    <span class="keyword">friend</span> std::istream&amp; <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">operator&gt;&gt;</a>(std::istream&amp; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a83ad0ee7f1e06b59c90271716e689080">in</a>, <a class="code hl_class" href="class_vector__2d.html">MyClass</a>&amp;);</div>
<div class="line">    <span class="keyword">friend</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">change_id</a>(<span class="keywordtype">int</span>);</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">MyClass</a>(<span class="keywordtype">int</span> i = 0) : i(i) {}</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">std::ostream&amp; <a class="code hl_function" href="logging_8h.html#a4108d325b90a6d1fb7377e77f08e80c3">operator&lt;&lt;</a>(std::ostream&amp; <a class="code hl_class" href="class_vector__2d.html">out</a>, <span class="keyword">const</span> <a class="code hl_class" href="class_vector__2d.html">MyClass</a>&amp; <a class="code hl_class" href="class_vector__2d.html">mc</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_class" href="class_vector__2d.html">out</a> &lt;&lt; <span class="stringliteral">&quot;MyClass::id = &quot;</span> &lt;&lt; MyClass::id &lt;&lt; <span class="stringliteral">&quot;; i = &quot;</span> &lt;&lt; <a class="code hl_class" href="class_vector__2d.html">mc</a>.i;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">std::istream&amp; <a class="code hl_class" href="class_vector__2d.html">operator&gt;&gt;</a>(std::istream&amp; <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a83ad0ee7f1e06b59c90271716e689080">in</a>, <a class="code hl_class" href="class_vector__2d.html">MyClass</a>&amp; <a class="code hl_class" href="class_vector__2d.html">mc</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a83ad0ee7f1e06b59c90271716e689080">in</a> &gt;&gt; <a class="code hl_class" href="class_vector__2d.html">mc</a>.i;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_class" href="class_vector__2d.html">change_id</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>) { MyClass::id = <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a58c2a664503e14ffb8f21012aabff3e9">id</a>; }</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">MyClass</a> <a class="code hl_class" href="class_vector__2d.html">mc</a>(7);</div>
<div class="line">    std::cout &lt;&lt; <a class="code hl_class" href="class_vector__2d.html">mc</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="comment">//  mc.i = 333*2;  // error: i is a private member</span></div>
<div class="line">    std::istringstream(<span class="stringliteral">&quot;100&quot;</span>) &gt;&gt; <a class="code hl_class" href="class_vector__2d.html">mc</a>;</div>
<div class="line">    std::cout &lt;&lt; <a class="code hl_class" href="class_vector__2d.html">mc</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="comment">//  MyClass::id = 222*3;  // error: id is a private member</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">change_id</a>(9);</div>
<div class="line">    std::cout &lt;&lt; <a class="code hl_class" href="class_vector__2d.html">mc</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line">}</div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Output:</span></div>
<div class="line"><span class="comment">MyClass::id = 6; i = 7</span></div>
<div class="line"><span class="comment">MyClass::id = 6; i = 100</span></div>
<div class="line"><span class="comment">MyClass::id = 9; i = 100</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a58c2a664503e14ffb8f21012aabff3e9"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#a58c2a664503e14ffb8f21012aabff3e9">id</a></div><div class="ttdeci">GLuint id</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl__glext_8h_source.html#l00820">SDL_opengl_glext.h:820</a></div></div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a83ad0ee7f1e06b59c90271716e689080"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#a83ad0ee7f1e06b59c90271716e689080">in</a></div><div class="ttdeci">GLuint in</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl__glext_8h_source.html#l09250">SDL_opengl_glext.h:9250</a></div></div>
</div><!-- fragment --><p>#_What is virtual Function Specifier_</p>
<p>The virtual specifier specifies that a non-static member function is virtual and supports dynamic dispatch. It may only appear in the decl-specifier-seq of the initial declaration of a non-static member function (i.e., when it is declared in the class definition).</p>
<p>___Explanation___</p>
<p>Virtual functions are member functions whose behavior can be overridden in derived classes. As opposed to non-virtual functions, the overriding behavior is preserved even if there is no compile-time information about the actual type of the class. That is to say, if a derived class is handled using pointer or reference to the base class, a call to an overridden virtual function would invoke the behavior defined in the derived class. Such a function call is known as virtual function call or virtual call. Virtual function call is suppressed if the function is selected using qualified name lookup (that is, if the function's name appears to the right of the scope resolution operator ::).</p>
<p>___Try this code___</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">Base</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>()</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;base\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">Derived</a> : <a class="code hl_class" href="class_vector__2d.html">Base</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>() <a class="code hl_class" href="class_vector__2d.html">override</a> <span class="comment">// &#39;override&#39; is optional</span></div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;derived\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Base</a> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Derived</a> <a class="code hl_class" href="class_vector__2d.html">d</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// virtual function call through reference</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Base</a>&amp; <a class="code hl_class" href="class_vector__2d.html">br</a> = <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>; <span class="comment">// the type of br is Base&amp;</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Base</a>&amp; <a class="code hl_class" href="class_vector__2d.html">dr</a> = <a class="code hl_class" href="class_vector__2d.html">d</a>; <span class="comment">// the type of dr is Base&amp; as well</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">br</a>.f(); <span class="comment">// prints &quot;base&quot;</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">dr</a>.f(); <span class="comment">// prints &quot;derived&quot;</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// virtual function call through pointer</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Base</a>* <a class="code hl_class" href="class_vector__2d.html">bp</a> = &amp;<a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>; <span class="comment">// the type of bp is Base*</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Base</a>* <a class="code hl_class" href="class_vector__2d.html">dp</a> = &amp;<a class="code hl_class" href="class_vector__2d.html">d</a>; <span class="comment">// the type of dp is Base* as well</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">bp</a>-&gt;f(); <span class="comment">// prints &quot;base&quot;</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">dp</a>-&gt;f(); <span class="comment">// prints &quot;derived&quot;</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// non-virtual function call</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">br</a>.Base::f(); <span class="comment">// prints &quot;base&quot;</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">dr</a>.Base::f(); <span class="comment">// prints &quot;base&quot;</span></div>
<div class="line">}</div>
<div class="ttc" id="a_s_d_l__opengl__glext_8h_html_a6eba317e3cf44d6d26c04a5a8f197dcb"><div class="ttname"><a href="_s_d_l__opengl__glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a></div><div class="ttdeci">GLboolean GLboolean GLboolean b</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl__glext_8h_source.html#l01417">SDL_opengl_glext.h:1417</a></div></div>
</div><!-- fragment --><p>In detail If some member function vf is declared as virtual in a class Base, and some class Derived, which is derived, directly or indirectly, from Base, has a declaration for member function with the same name parameter type list (but not the return type) cv-qualifiers ref-qualifiers Then this function in the class Derived is also virtual (whether or not the keyword virtual is used in its declaration) and overrides <a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">Base::vf</a> (whether or not the word override is used in its declaration). <a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">Base::vf</a> does not need to be accessible or visible to be overridden. (<a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">Base::vf</a> can be declared private, or Base can be inherited using private inheritance. Any members with the same name in a base class of Derived which inherits Base do not matter for override determination, even if they would hide <a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">Base::vf</a> during name lookup.)</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">B</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">do_f</a>(); <span class="comment">// private member</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>() { <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">do_f</a>(); } <span class="comment">// public interface</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">D</a> : <span class="keyword">public</span> <a class="code hl_class" href="class_vector__2d.html">B</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">do_f</a>() <span class="keyword">override</span>; <span class="comment">// overrides B::do_f</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">D</a> <a class="code hl_class" href="class_vector__2d.html">d</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">B</a>* <a class="code hl_class" href="class_vector__2d.html">bp</a> = &amp;<a class="code hl_class" href="class_vector__2d.html">d</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">bp</a>-&gt;f(); <span class="comment">// internally calls D::do_f();</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>For every virtual function, there is the final overrider, which is executed when a virtual function call is made. A virtual member function vf of a base class Base is the final overrider unless the derived class declares or inherits (through multiple inheritance) another function that overrides vf.</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">A</a> { <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); };     <span class="comment">// A::f is virtual</span></div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">B</a> : <a class="code hl_class" href="class_vector__2d.html">A</a> { <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); };         <span class="comment">// B::f overrides A::f in B</span></div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">C</a> : <span class="keyword">virtual</span> <a class="code hl_class" href="class_vector__2d.html">B</a> { <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); }; <span class="comment">// C::f overrides A::f in C</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">D</a> : <span class="keyword">virtual</span> <a class="code hl_class" href="class_vector__2d.html">B</a> {}; <span class="comment">// D does not introduce an overrider, B::f is final in D</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">E</a> : <a class="code hl_class" href="class_vector__2d.html">C</a>, <a class="code hl_class" href="class_vector__2d.html">D</a>          <span class="comment">// E does not introduce an overrider, C::f is final in E</span></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">using </span>A::f; <span class="comment">// not a function declaration, just makes A::f visible to lookup</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">E</a> <a class="code hl_class" href="class_vector__2d.html">e</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">e</a>.f();    <span class="comment">// virtual call calls C::f, the final overrider in e</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">e</a>.E::f(); <span class="comment">// non-virtual call calls A::f, which is visible in E</span></div>
<div class="line">}</div>
<div class="line"><span class="comment">//If a function has more than one final overrider, the program is ill-formed:</span></div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">A</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">VB1</a> : <span class="keyword">virtual</span> <a class="code hl_class" href="class_vector__2d.html">A</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); <span class="comment">// overrides A::f</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">VB2</a> : <span class="keyword">virtual</span> <a class="code hl_class" href="class_vector__2d.html">A</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); <span class="comment">// overrides A::f</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// struct Error : VB1, VB2</span></div>
<div class="line"><span class="comment">// {</span></div>
<div class="line"><span class="comment">//     // Error: A::f has two final overriders in Error</span></div>
<div class="line"><span class="comment">// };</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">Okay</a> : <a class="code hl_class" href="class_vector__2d.html">VB1</a>, <a class="code hl_class" href="class_vector__2d.html">VB2</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); <span class="comment">// OK: this is the final overrider for A::f</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">VB1a</a> : <span class="keyword">virtual</span> <a class="code hl_class" href="class_vector__2d.html">A</a> {}; <span class="comment">// does not declare an overrider</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">Da</a> : <a class="code hl_class" href="class_vector__2d.html">VB1a</a>, <a class="code hl_class" href="class_vector__2d.html">VB2</a></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// in Da, the final overrider of A::f is VB2::f</span></div>
<div class="line">};</div>
</div><!-- fragment --><p>A function with the same name but different parameter list does not override the base function of the same name, but hides it: when unqualified name lookup examines the scope of the derived class, the lookup finds the declaration and does not examine the base class.</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">B</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">D</a> : <a class="code hl_class" href="class_vector__2d.html">B</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(<span class="keywordtype">int</span>); <span class="comment">// D::f hides B::f (wrong parameter list)</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">D2</a> : <a class="code hl_class" href="class_vector__2d.html">D</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); <span class="comment">// D2::f overrides B::f (doesn&#39;t matter that it&#39;s not visible)</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">B</a> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">B</a>&amp; <a class="code hl_class" href="class_vector__2d.html">b_as_b</a> = <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">D</a> <a class="code hl_class" href="class_vector__2d.html">d</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">B</a>&amp; <a class="code hl_class" href="class_vector__2d.html">d_as_b</a> = <a class="code hl_class" href="class_vector__2d.html">d</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">D</a>&amp; <a class="code hl_class" href="class_vector__2d.html">d_as_d</a> = <a class="code hl_class" href="class_vector__2d.html">d</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">D2</a> <a class="code hl_class" href="class_vector__2d.html">d2</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">B</a>&amp; <a class="code hl_class" href="class_vector__2d.html">d2_as_b</a> = <a class="code hl_class" href="class_vector__2d.html">d2</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">D</a>&amp; <a class="code hl_class" href="class_vector__2d.html">d2_as_d</a> = <a class="code hl_class" href="class_vector__2d.html">d2</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">b_as_b</a>.f();  <span class="comment">// calls B::f()</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">d_as_b</a>.f();  <span class="comment">// calls B::f()</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">d2_as_b</a>.f(); <span class="comment">// calls D2::f()</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">d_as_d</a>.f();  <span class="comment">// Error: lookup in D finds only f(int)</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">d2_as_d</a>.f(); <span class="comment">// Error: lookup in D finds only f(int)</span></div>
<div class="line">}</div>
<div class="line"><span class="comment">//If a function is declared with the specifier override, but does not override a virtual function, the program is ill-formed:</span></div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">B</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(<span class="keywordtype">int</span>);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">D</a> : <a class="code hl_class" href="class_vector__2d.html">B</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(<span class="keywordtype">int</span>) <span class="keyword">override</span>;  <span class="comment">// OK, D::f(int) overrides B::f(int)</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(<span class="keywordtype">long</span>) <span class="keyword">override</span>; <span class="comment">// Error: f(long) does not override B::f(int)</span></div>
<div class="line">};</div>
<div class="line"><span class="comment">//If a function is declared with the specifier final, and another function attempts to override it, the program is ill-formed:</span></div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">B</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>() <a class="code hl_class" href="class_vector__2d.html">const</a> <a class="code hl_class" href="class_vector__2d.html">final</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_vector__2d.html">struct</a> <a class="code hl_class" href="class_vector__2d.html">D</a> : <a class="code hl_class" href="class_vector__2d.html">B</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>() <span class="keyword">const</span>; <span class="comment">// Error: D::f attempts to override final B::f</span></div>
<div class="line">};</div>
</div><!-- fragment --><p> (since C++11)</p>
<p>Non-member functions and static member functions cannot be virtual. Function templates cannot be declared virtual. This applies only to functions that are themselves templates - a regular member function of a class template can be declared virtual. Virtual functions (whether declared virtual or overriding one) cannot have any associated constraints.</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">A</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>() <span class="keyword">requires</span> <a class="code hl_class" href="class_vector__2d.html">true</a>; <span class="comment">// Error: constrained virtual function</span></div>
<div class="line">};</div>
</div><!-- fragment --><p> A consteval virtual function must not override or be overidden by a non-consteval virtual function. (since C++20)</p>
<p>Default arguments for virtual functions are substituted at the compile time. Covariant return types If the function Derived::f overrides a function Base::f, their return types must either be the same or be covariant. Two types are covariant if they satisfy all of the following requirements: both types are pointers or references (lvalue or rvalue) to classes. Multi-level pointers or references are not allowed. the referenced/pointed-to class in the return type of Base::f() must be an unambiguous and accessible direct or indirect base class of the referenced/pointed-to class of the return type of Derived::f(). the return type of Derived::f() must be equally or less cv-qualified than the return type of Base::f(). The class in the return type of Derived::f must be either Derived itself, or must be a complete type at the point of declaration of Derived::f. When a virtual function call is made, the type returned by the final overrider is implicitly converted to the return type of the overridden function that was called:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">B</a> {};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">Base</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">vf1</a>();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">vf2</a>();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">vf3</a>();</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_class" href="class_vector__2d.html">B</a>* <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">vf4</a>();</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_class" href="class_vector__2d.html">B</a>* <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">vf5</a>();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">D</a> : <span class="keyword">private</span> <a class="code hl_class" href="class_vector__2d.html">B</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">friend</span> <span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">Derived</a>; <span class="comment">// in Derived, B is an accessible base of D</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">A</a>; <span class="comment">// forward-declared class is an incomplete type</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">Derived</a> : <span class="keyword">public</span> <a class="code hl_class" href="class_vector__2d.html">Base</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">vf1</a>();    <span class="comment">// virtual, overrides Base::vf1()</span></div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">vf2</a>(<span class="keywordtype">int</span>); <span class="comment">// non-virtual, hides Base::vf2()</span></div>
<div class="line"><span class="comment">//  char vf3();    // Error: overrides Base::vf3, but has different</span></div>
<div class="line">                   <span class="comment">// and non-covariant return type</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">D</a>* <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">vf4</a>();      <span class="comment">// overrides Base::vf4() and has covariant return type</span></div>
<div class="line"><span class="comment">//  A* vf5();      // Error: A is incomplete type</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Derived</a> <a class="code hl_class" href="class_vector__2d.html">d</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Base</a>&amp; <a class="code hl_class" href="class_vector__2d.html">br</a> = <a class="code hl_class" href="class_vector__2d.html">d</a>;</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Derived</a>&amp; <a class="code hl_class" href="class_vector__2d.html">dr</a> = <a class="code hl_class" href="class_vector__2d.html">d</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">br</a>.vf1(); <span class="comment">// calls Derived::vf1()</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">br</a>.vf2(); <span class="comment">// calls Base::vf2()</span></div>
<div class="line"><span class="comment">//  dr.vf2(); // Error: vf2(int) hides vf2()</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">B</a>* <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#aa5367c14d90f462230c2611b81b41d23">p</a> = <a class="code hl_class" href="class_vector__2d.html">br</a>.vf4(); <span class="comment">// calls Derived::vf4() and converts the result to B*</span></div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">D</a>* <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a8fc1e7b9baaae687804c7eed46ca09c6">q</a> = <a class="code hl_class" href="class_vector__2d.html">dr</a>.vf4(); <span class="comment">// calls Derived::vf4() and does not convert the result to B*</span></div>
<div class="line">}</div>
<div class="ttc" id="a_s_d_l__opengl_8h_html_a8fc1e7b9baaae687804c7eed46ca09c6"><div class="ttname"><a href="_s_d_l__opengl_8h.html#a8fc1e7b9baaae687804c7eed46ca09c6">q</a></div><div class="ttdeci">GLdouble GLdouble GLdouble GLdouble q</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl_8h_source.html#l02087">SDL_opengl.h:2087</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md94"></a>
___Virtual destructor___</h2>
<p>Even though destructors are not inherited, if a base class declares its destructor virtual, the derived destructor always overrides it. This makes it possible to delete dynamically allocated objects of polymorphic type through pointers to base.</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">Base</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">~Base</a>() { <span class="comment">/* releases Base&#39;s resources */</span> }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_vector__2d.html">Derived</a> : <span class="keyword">public</span> <a class="code hl_class" href="class_vector__2d.html">Base</a></div>
<div class="line">{</div>
<div class="line">    <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">~Derived</a>() { <span class="comment">/* releases Derived&#39;s resources */</span> }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>()</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">Base</a>* <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_vector__2d.html">Derived</a>;</div>
<div class="line">    <span class="keyword">delete</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a6eba317e3cf44d6d26c04a5a8f197dcb">b</a>; <span class="comment">// Makes a virtual function call to Base::~Base()</span></div>
<div class="line">              <span class="comment">// since it is virtual, it calls Derived::~Derived() which can</span></div>
<div class="line">              <span class="comment">// release resources of the derived class, and then calls</span></div>
<div class="line">              <span class="comment">// Base::~Base() following the usual order of destruction</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Moreover, if the destructor of the base class is not virtual, deleting a derived class object through a pointer to the base class is undefined behavior regardless of whether there are resources that would be leaked if the derived destructor is not invoked, unless the selected deallocation function is a destroying operator delete (since C++20). A useful guideline is that the destructor of any base class must be public and virtual or protected and non-virtual, whenever delete expressions are involved, e.g. when implicitly used in std::unique_ptr (since C++11). During construction and destruction When a virtual function is called directly or indirectly from a constructor or from a destructor (including during the construction or destruction of the classs non-static data members, e.g. in a member initializer list), and the object to which the call applies is the object under construction or destruction, the function called is the final overrider in the constructors or destructors class and not one overriding it in a more-derived class. In other words, during construction or destruction, the more-derived classes do not exist. When constructing a complex class with multiple branches, within a constructor that belongs to one branch, polymorphism is restricted to that class and its bases: if it obtains a pointer or reference to a base subobject outside this subhierarchy, and attempts to invoke a virtual function call (e.g. using explicit member access), the behavior is undefined:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">V</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>();</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a>();</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">A</a> : <span class="keyword">virtual</span> <a class="code hl_class" href="class_vector__2d.html">V</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); <span class="comment">// A::f is the final overrider of V::f in A</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">B</a> : <span class="keyword">virtual</span> <a class="code hl_class" href="class_vector__2d.html">V</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a>(); <span class="comment">// B::g is the final overrider of V::g in B</span></div>
<div class="line">    <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">B</a>(<a class="code hl_class" href="class_vector__2d.html">V</a>*, <a class="code hl_class" href="class_vector__2d.html">A</a>*);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_class" href="class_vector__2d.html">D</a> : <a class="code hl_class" href="class_vector__2d.html">A</a>, <a class="code hl_class" href="class_vector__2d.html">B</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); <span class="comment">// D::f is the final overrider of V::f in D</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a>(); <span class="comment">// D::g is the final overrider of V::g in D</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// note: A is initialized before B</span></div>
<div class="line">    <a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">D</a>() : <a class="code hl_class" href="class_vector__2d.html">B</a>((<a class="code hl_class" href="class_vector__2d.html">A</a>*) <a class="code hl_class" href="class_vector__2d.html">this</a>, <a class="code hl_class" href="class_vector__2d.html">this</a>) {}</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// the constructor of B, called from the constructor of D </span></div>
<div class="line"><a class="code hl_function" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">B::B</a>(<a class="code hl_class" href="class_vector__2d.html">V</a>* <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a55f85da29bf761fde63cc95d26300230">v</a>, <a class="code hl_class" href="class_vector__2d.html">A</a>* <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a7a611b28eaed9ea8dda79c38887b3f0e">f</a>(); <span class="comment">// virtual call to V::f (although D has the final overrider, D doesn&#39;t exist)</span></div>
<div class="line">    <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#a9cd653b1648845554169fbc3a3f6d37a">g</a>(); <span class="comment">// virtual call to B::g, which is the final overrider in B </span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#a55f85da29bf761fde63cc95d26300230">v</a>-&gt;g(); <span class="comment">// v&#39;s type V is base of B, virtual call calls B::g as before</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedef" href="_s_d_l__opengl__glext_8h.html#ac8729153468b5dcf13f971b21d84d4e5">a</a>-&gt;f(); <span class="comment">// as type A is not a base of B. it belongs to a different branch of the</span></div>
<div class="line">            <span class="comment">// hierarchy. Attempting a virtual call through that branch causes</span></div>
<div class="line">            <span class="comment">// undefined behavior even though A was already fully constructed in this</span></div>
<div class="line">            <span class="comment">// case (it was constructed before B since it appears before B in the list</span></div>
<div class="line">            <span class="comment">// of the bases of D). In practice, the virtual call to A::f will be</span></div>
<div class="line">            <span class="comment">// attempted using B&#39;s virtual member function table, since that&#39;s what</span></div>
<div class="line">            <span class="comment">// is active during B&#39;s construction)</span></div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
