<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AnimationEngineCPP: Build Type in CPP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AnimationEngineCPP<span id="projectnumber">&#160;0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Build Type in CPP</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md18"></a> keyword: static, dynamic, framework</p>
<p><b>Table of Contents</b></p>
<ul>
<li>Build Type in CPP<ul>
<li>More details</li>
<li>Hello World library - both as static and dyanmic</li>
<li>How about Framework<ul>
<li>What is a Framework?</li>
<li>Using Frameworks in CMakeLists.txt</li>
<li>Using Frameworks in the Command Line</li>
<li>Features, Usages, and Common Practices for Frameworks:</li>
<li>Common Frameworks for macOS:</li>
</ul>
</li>
<li>Static Linking vs Dynamic Linking</li>
<li>Static Linking:<ul>
<li>-</li>
<li>Disadvantages:</li>
<li>File Extensions:</li>
</ul>
</li>
<li>Dynamic Linking:<ul>
<li>-</li>
<li>Disadvantages:</li>
<li>File Extensions:</li>
<li>Can youy create simple library and link it using static then dynamicc?</li>
<li>1. Creating the Library:</li>
<li>2. Static Linking:</li>
<li>Dynamic Linking:</li>
</ul>
</li>
</ul>
</li>
<li>Here's a table that compares dynamic libraries and static libraries in various aspects:</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Aspect</b>   </th><th class="markdownTableHeadNone"><b>Dynamic Library</b>   </th><th class="markdownTableHeadNone"><b>Static Library</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Description</b>   </td><td class="markdownTableBodyNone">Libraries that are loaded at runtime.   </td><td class="markdownTableBodyNone">Libraries that are linked at compile time.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Extension</b>   </td><td class="markdownTableBodyNone">Typically <code>.dll</code> (Windows), <code>.so</code> (Linux), <code>.dylib</code> (macOS).   </td><td class="markdownTableBodyNone">Typically <code>.lib</code> (Windows), <code>.a</code> (Unix/Linux/macOS).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Linking Type</b>   </td><td class="markdownTableBodyNone">Dynamic Linking   </td><td class="markdownTableBodyNone">Static Linking    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Size of Executable</b>   </td><td class="markdownTableBodyNone">Generally smaller, as the actual library code resides in the shared library.   </td><td class="markdownTableBodyNone">Larger, as the library code is incorporated into the final executable.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Memory Footprint</b>   </td><td class="markdownTableBodyNone">Multiple programs can share a single instance in memory.   </td><td class="markdownTableBodyNone">Each program has its own copy of the library functions in memory.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Loading Time</b>   </td><td class="markdownTableBodyNone">May increase, as linking is done at runtime.   </td><td class="markdownTableBodyNone">Typically faster, as all linking is done at compile time.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Versioning</b>   </td><td class="markdownTableBodyNone">Can update without recompiling dependent applications (if ABI is preserved).   </td><td class="markdownTableBodyNone">Applications must be recompiled if the library is updated.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Portability</b>   </td><td class="markdownTableBodyNone">Executable needs the correct version of the library present at runtime.   </td><td class="markdownTableBodyNone">No external dependencies are required at runtime.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Performance</b>   </td><td class="markdownTableBodyNone">Slight overhead due to dynamic linking, though often negligible.   </td><td class="markdownTableBodyNone">Might be slightly faster due to early binding.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Compilation Time</b>   </td><td class="markdownTableBodyNone">Might be faster as each change to the library doesn't require recompiling dependent applications.   </td><td class="markdownTableBodyNone">Could be slower, especially if the library is large and the application needs to be relinked often.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Code Snippet (Compilation)</b>   </td><td class="markdownTableBodyNone"><code>gcc -shared -o <a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">libmylib.so</a> mylib.c</code> (Linux)   </td><td class="markdownTableBodyNone"><code>ar rcs libmylib.a <a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">mylib.o</a></code> (after compiling <code>mylib.c</code> to object file)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Code Snippet (Linking)</b>   </td><td class="markdownTableBodyNone"><code>gcc -o myprog myprog.c -L/path/to/lib -lmylib</code> (dynamic linking in Linux)   </td><td class="markdownTableBodyNone"><code>gcc -o myprog myprog.c -L/path/to/lib -lmylib</code> (static linking)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Distribution</b>   </td><td class="markdownTableBodyNone">Must distribute the library and the executable. Also, may need to consider version compatibility.   </td><td class="markdownTableBodyNone">Only the executable is distributed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Use Case</b>   </td><td class="markdownTableBodyNone">When you expect updates to the library without wanting to recompile all dependent applications. Also, for plugins.   </td><td class="markdownTableBodyNone">When you want a standalone executable without any external dependencies.   </td></tr>
</table>
<p><b>Notes:</b></p>
<ol type="1">
<li>The above table provides a general overview. The specifics can vary based on the operating system, compiler, and specific use cases.</li>
<li>Dynamic libraries also have the concept of an "Application Binary Interface" (ABI). If you maintain ABI compatibility, you can update a dynamic library without recompiling programs that use it. However, if you break ABI compatibility, it requires recompilation.</li>
<li>Always consider licensing when distributing libraries. Some licenses have different requirements or implications for static vs. dynamic linking.</li>
</ol>
<ul>
<li><b>Note</b>: The "Compilation Time" aspect is a general observation and the actual compilation time can vary based on the size of the library, the number of dependencies, and the specific system and build setup.</li>
</ul>
<h1><a class="anchor" id="autotoc_md19"></a>
More details</h1>
<p><b>Static Linking</b> and <b>Dynamic Linking</b> are two processes of collecting and combining multiple object files to form a single executable.</p>
<ol type="1">
<li>In <b>static linking</b>, all library routines used by a program are copied into the program's binary file during the linking phase. This makes the executable file self-contained, it can run independently without any external dependencies. But the disadvantage is the larger file size and possible duplication of code if multiple programs use the same library.</li>
<li>In <b>dynamic linking</b>, the linker doesn't copy the library routines into the executable file. Instead, references to the library routines are made in the executable file. The actual linking happens at runtime when both the executable and the library are in memory. Dynamic linking reduces the size of the executable and allows library routines to be shared among multiple programs, reducing memory usage.</li>
</ol>
<ul>
<li>The extension for libraries and executable files differ depending on the operating system.<ul>
<li><b>Windows</b>: Static libraries usually have a <code>.lib</code> extension and dynamic libraries use the <code>.dll</code> (Dynamic Link Library) extension. Executables typically have <code>.exe</code> extensions.</li>
<li><b>Linux</b>: Static libraries typically have a <code>.a</code> (archive) extension, and dynamic libraries have a <code>.so</code> (shared object) extension. Executables don't have a required extension in Linux.</li>
<li><b>Mac</b>: Static libraries typically have a <code>.a</code> extension, and dynamic libraries have a <code>.dylib</code> extension. Similar to Linux, executables don't have a required extension in macOS.</li>
</ul>
</li>
</ul>
<p>These are just the usual conventions. It's possible to configure the build process to use other extensions or even no extensions at all.</p>
<h1><a class="anchor" id="autotoc_md20"></a>
Hello World library - both as static and dyanmic</h1>
<p>let's create a simple "Hello World" library, both as a static library and a dynamic library.</p>
<ol type="1">
<li>**Library Code (<code><a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">hello.cpp</a></code>)**</li>
</ol>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_class" href="class_vector__2d.html">hello</a>() {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Hello, World from the library!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_vector__2d_html"><div class="ttname"><a href="class_vector__2d.html">Vector_2d</a></div><div class="ttdef"><b>Definition</b> <a href="_vector__2d_8h_source.html#l00015">Vector_2d.h:15</a></div></div>
</div><!-- fragment --><ol type="1">
<li><b>Static Library Compilation</b>:</li>
</ol>
<p>To create a static library:</p>
<div class="fragment"><div class="line">g++ -c hello.cpp -o hello.o</div>
<div class="line">ar rcs libhello.a hello.o</div>
</div><!-- fragment --><ol type="1">
<li><b>Dynamic Library Compilation</b>:</li>
</ol>
<p>To create a dynamic/shared library:</p>
<div class="fragment"><div class="line">g++ -shared -fPIC hello.cpp -o libhello.so</div>
</div><!-- fragment --><ol type="1">
<li>**Using the Libraries in a Main Program (<code><a class="el" href="main_8cpp.html">main.cpp</a></code>)**</li>
</ol>
<div class="fragment"><div class="line"><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_class" href="class_vector__2d.html">hello</a>();</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>() {</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">hello</a>();</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="a_c_make_c_x_x_compiler_id_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition</b> <a href="_c_make_c_x_x_compiler_id_8cpp_source.html#l00830">CMakeCXXCompilerId.cpp:830</a></div></div>
</div><!-- fragment --><ol type="1">
<li><b>Linking with the Static Library</b>:</li>
</ol>
<div class="fragment"><div class="line">g++ main.cpp -L. -lhello -o static_hello</div>
</div><!-- fragment --><ol type="1">
<li><b>Linking with the Dynamic Library</b>:</li>
</ol>
<div class="fragment"><div class="line">g++ main.cpp -L. -lhello -o dynamic_hello</div>
</div><!-- fragment --><ul>
<li>Make sure the dynamic library is in the library path or in the same directory when running the executable, or use <code>LD_LIBRARY_PATH</code>:</li>
</ul>
<div class="fragment"><div class="line">export LD_LIBRARY_PATH=.:$LD_LIBRARY_PATH</div>
<div class="line">./dynamic_hello</div>
</div><!-- fragment --><p><b>Comparison Table</b>:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Aspect</b>   </th><th class="markdownTableHeadNone"><b>Static Library</b>   </th><th class="markdownTableHeadNone"><b>Dynamic Library</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Compilation</b>   </td><td class="markdownTableBodyNone">Two steps: Compile source to object file, then archive object files into a library.   </td><td class="markdownTableBodyNone">Compile with <code>-shared</code> to directly create the shared library.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Linking</b>   </td><td class="markdownTableBodyNone">Library content is included in the final executable.   </td><td class="markdownTableBodyNone">Only references to library functions are included. Library must be present at runtime.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Executable Size</b>   </td><td class="markdownTableBodyNone">Generally larger, as library content is embedded inside it.   </td><td class="markdownTableBodyNone">Smaller. The actual library code is in the shared library, not the executable.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Distribution</b>   </td><td class="markdownTableBodyNone">Just the executable is required.   </td><td class="markdownTableBodyNone">Both the executable and the shared library (.so, .dll) must be distributed.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Update Library</b>   </td><td class="markdownTableBodyNone">Need to relink and possibly recompile the executable.   </td><td class="markdownTableBodyNone">Just replace the shared library file (if ABI compatibility is maintained).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Performance</b>   </td><td class="markdownTableBodyNone">No overhead of dynamic linking at runtime.   </td><td class="markdownTableBodyNone">Minimal overhead due to dynamic linking, but generally negligible.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Flexibility</b>   </td><td class="markdownTableBodyNone">Not as flexible. Changing the library requires relinking the executable.   </td><td class="markdownTableBodyNone">More flexible. Applications can use different versions or implementations of a library without needing to be recompiled or relinked.   </td></tr>
</table>
<p>This table provides a general comparison between static and dynamic libraries in the context of a "Hello World" library. The exact benefits and trade-offs can vary based on the specific use-case and system setup.</p>
<h1><a class="anchor" id="autotoc_md21"></a>
How about Framework</h1>
<ul>
<li>Framework is a bundle, usually in <code>macOS</code>, read more about it in the <code>CMake_for_Professional</code> book.</li>
</ul>
<p><img src="../images/M02.png" alt="Meaning of framework" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md22"></a>
What is a Framework?</h2>
<p>A framework in the context of software development is a pre-written set of code or tools that provides generic functionality, upon which more specific software can be built. Frameworks enable developers to avoid "reinventing the wheel" by offering a structure and foundation for building applications.</p>
<p><b>Examples</b>:</p>
<ol type="1">
<li><b>Web Development</b>: Django is a high-level Python web framework that encourages rapid development and clean, pragmatic design.</li>
<li><b>Mobile Development</b>: SwiftUI is a framework for building UIs across all Apple devices with the power of Swift.</li>
<li><b>Desktop Development</b>: Qt is a free and open-source widget toolkit for creating GUIs as well as cross-platform applications that run on various software and hardware platforms.</li>
</ol>
<h2><a class="anchor" id="autotoc_md23"></a>
Using Frameworks in CMakeLists.txt</h2>
<p>When using a framework in CMake, you typically use the <code>find_package</code> command to locate the framework, and then link against it.</p>
<p><b>Example</b> (using a hypothetical "MyFramework"):</p>
<div class="fragment"><div class="line"># Find the MyFramework package</div>
<div class="line">find_package(MyFramework REQUIRED)</div>
<div class="line"> </div>
<div class="line"># Link against MyFramework when creating your executable or library</div>
<div class="line">add_executable(my_app main.cpp)</div>
<div class="line">target_link_libraries(my_app PRIVATE MyFramework::MyFramework)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24"></a>
Using Frameworks in the Command Line</h2>
<p>When you're compiling a program from the command line, you often have to specify where the compiler can find the framework headers and libraries. In macOS, frameworks are typically bundled in a <code>.framework</code> directory.</p>
<p><b>Example</b> (using a hypothetical "MyFramework"):</p>
<div class="fragment"><div class="line">g++ main.cpp -F /path/to/framework/directory -framework MyFramework -o my_app</div>
</div><!-- fragment --><ul>
<li>In the above, <code>-F</code> specifies the path to search for frameworks and <code>-framework</code> is used to link against a specific framework.</li>
</ul>
<h2><a class="anchor" id="autotoc_md25"></a>
Features, Usages, and Common Practices for Frameworks:</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Feature</b>   </th><th class="markdownTableHeadNone"><b>Description</b>   </th><th class="markdownTableHeadNone"><b>Common Practices</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Structure and Organization</b>   </td><td class="markdownTableBodyNone">Provides a predefined structure for organizing code, resources, and other assets.   </td><td class="markdownTableBodyNone">Stick to the structure provided by the framework for maintainability and better collaboration.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Reusable Components</b>   </td><td class="markdownTableBodyNone">Contains pre-built components or modules that can be reused across different parts of an application.   </td><td class="markdownTableBodyNone">Use the built-in components before trying to build custom solutions; it saves time and ensures consistency.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Documentation and Community</b>   </td><td class="markdownTableBodyNone">Often comes with extensive documentation and a supportive community.   </td><td class="markdownTableBodyNone">Regularly consult the official documentation; participate in community forums or discussion boards for support.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Extensibility</b>   </td><td class="markdownTableBodyNone">Allows developers to extend or override built-in functionality to cater to specific requirements.   </td><td class="markdownTableBodyNone">Use extension points provided by the framework; avoid "hacking" or working against the framework's design.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Testing and Debugging</b>   </td><td class="markdownTableBodyNone">Often includes tools or modules for testing and debugging to ensure the application works correctly.   </td><td class="markdownTableBodyNone">Regularly write tests as you develop; utilize built-in debugging tools for efficient troubleshooting.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Updates and Maintenance</b>   </td><td class="markdownTableBodyNone">Regularly receives updates, which might include new features, bug fixes, or performance improvements.   </td><td class="markdownTableBodyNone">Stay updated with the latest version; however, always test the application thoroughly after updating the framework.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md26"></a>
Common Frameworks for macOS:</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><b>Framework</b>   </th><th class="markdownTableHeadNone"><b>Description</b>   </th><th class="markdownTableHeadNone"><b>Common Use Cases</b>    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Cocoa/Cocoa Touch</b>   </td><td class="markdownTableBodyNone">Apple's native object-oriented APIs for macOS/iOS UI development.   </td><td class="markdownTableBodyNone">Building native macOS and iOS applications.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Core Foundation</b>   </td><td class="markdownTableBodyNone">C-based framework by Apple that provides data types and utilities for macOS and iOS.   </td><td class="markdownTableBodyNone">Used for low-level operations in macOS and iOS development.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Metal</b>   </td><td class="markdownTableBodyNone">High-performance graphics and compute API by Apple.   </td><td class="markdownTableBodyNone">Game development, graphics-intensive apps, and compute tasks on macOS.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>WebKit</b>   </td><td class="markdownTableBodyNone">The web rendering engine behind Safari, used for embedding web content in apps.   </td><td class="markdownTableBodyNone">Building web browsers or embedding web content within native apps.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Core ML</b>   </td><td class="markdownTableBodyNone">Apple's machine learning framework for adding trained ML models into applications.   </td><td class="markdownTableBodyNone">Implementing machine learning features in macOS/iOS apps.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>SceneKit/SpriteKit</b>   </td><td class="markdownTableBodyNone">Graphics rendering and animation infrastructure for creating 3D (SceneKit) and 2D (SpriteKit) graphics.   </td><td class="markdownTableBodyNone">Game development and 3D/2D graphics on macOS/iOS.   </td></tr>
</table>
<ul>
<li>Frameworks serve as a foundational layer or a scaffold upon which developers build their applications. They provide a consistent and structured way to build applications, enabling developers to focus on the unique aspects of their application rather than the repetitive or common functionalities.</li>
</ul>
<h1><a class="anchor" id="autotoc_md27"></a>
Static Linking vs Dynamic Linking</h1>
<p>Static linking and dynamic linking are two methods of linking libraries to an application. Each method has its pros and cons, and the choice between them often depends on the specific requirements of the application or the preferences of the developer. Here's a comparison between static and dynamic linking, along with the file extensions associated with each for macOS, Windows, and Linux:</p>
<h1><a class="anchor" id="autotoc_md28"></a>
Static Linking:</h1>
<h3><a class="anchor" id="autotoc_md29"></a>
Advantages:</h3>
<ol type="1">
<li><b>Portability</b>: The application can run on any system without needing external libraries since all dependencies are included within the executable.</li>
<li><b>Simplified Distribution</b>: No need to manage and ship shared libraries separately.</li>
<li><b>Stable Versioning</b>: Your application will always use the version of the library it was linked with, avoiding potential issues with incompatible library updates.</li>
</ol>
<h3><a class="anchor" id="autotoc_md30"></a>
Disadvantages:</h3>
<ol type="1">
<li><b>Larger Executable Size</b>: All required library code is embedded in the application, making the binary size larger.</li>
<li><b>No Shared Memory</b>: Multiple applications using the same library can't share a single in-memory copy of the library.</li>
<li><b>Update Difficulties</b>: To update a library, you have to recompile and redistribute the entire application.</li>
</ol>
<h3><a class="anchor" id="autotoc_md31"></a>
File Extensions:</h3>
<ul>
<li><b>macOS</b>: <code>.a</code> (archive libraries)</li>
<li><b>Windows</b>: <code>.lib</code> (when used as a static library)</li>
<li><b>Linux</b>: <code>.a</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md32"></a>
Dynamic Linking:</h1>
<h3><a class="anchor" id="autotoc_md33"></a>
Advantages:</h3>
<ol type="1">
<li><b>Smaller Executable Size</b>: The application only includes references to external shared libraries, not the library code itself.</li>
<li><b>Shared Memory</b>: Multiple applications can share a single in-memory copy of the library, saving memory.</li>
<li><b>Easier Updates</b>: Library updates can be made without needing to recompile applications that use them, as long as the library remains backward-compatible.</li>
</ol>
<h3><a class="anchor" id="autotoc_md34"></a>
Disadvantages:</h3>
<ol type="1">
<li><b>Dependency Management</b>: The application requires external shared libraries to run. If a required library is missing or incompatible, the application will fail to start.</li>
<li><b>Versioning Issues</b>: If an application expects a specific version of a library and the system has a different, incompatible version, the application might not work correctly.</li>
<li><b>Potential Security Risks</b>: If an attacker replaces the shared library with a malicious version, applications using that library could be compromised.</li>
</ol>
<h3><a class="anchor" id="autotoc_md35"></a>
File Extensions:</h3>
<ul>
<li><b>macOS</b>: <code>.dylib</code></li>
<li><b>Windows</b>: <code>.dll</code> (Dynamic Link Library)</li>
<li><b>Linux</b>: <code>.so</code> (Shared Object)</li>
</ul>
<p>In summary, the choice between static and dynamic linking will depend on the specific needs of your project. If you prioritize a self-contained, portable application without external dependencies, static linking might be the way to go. On the other hand, if you want a smaller executable size and easier library updates, dynamic linking could be a better choice.</p>
<h3><a class="anchor" id="autotoc_md36"></a>
Can youy create simple library and link it using static then dynamicc?</h3>
<p>Here's a step-by-step guide on creating a simple library, followed by instructions on how to link it both statically and dynamically, specifically for macOS:</p>
<h2><a class="anchor" id="autotoc_md37"></a>
1. Creating the Library:</h2>
<p>Let's create a simple library that provides a function to square a number.</p>
<p><b>mathlib.h</b>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifndef MATHLIB_H</span></div>
<div class="line"><span class="preprocessor">#define MATHLIB_H</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_class" href="class_vector__2d.html">square</a>(<span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#abe1577120f1766eff913e9a74879f373">x</a>);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="ttc" id="a_s_d_l__opengl_8h_html_abe1577120f1766eff913e9a74879f373"><div class="ttname"><a href="_s_d_l__opengl_8h.html#abe1577120f1766eff913e9a74879f373">x</a></div><div class="ttdeci">GLint GLint GLint GLint GLint x</div><div class="ttdef"><b>Definition</b> <a href="_s_d_l__opengl_8h_source.html#l01574">SDL_opengl.h:1574</a></div></div>
</div><!-- fragment --><p><b>mathlib.c</b>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;mathlib.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_class" href="class_vector__2d.html">square</a>(<span class="keywordtype">int</span> <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#abe1577120f1766eff913e9a74879f373">x</a>) {</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#abe1577120f1766eff913e9a74879f373">x</a> * <a class="code hl_typedef" href="_s_d_l__opengl_8h.html#abe1577120f1766eff913e9a74879f373">x</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md38"></a>
2. Static Linking:</h2>
<p>Compile the source file to an object file, then create a static library:</p>
<div class="fragment"><div class="line">gcc -c mathlib.c -o mathlib.o</div>
<div class="line">ar rcs libmathlib.a mathlib.o</div>
</div><!-- fragment --><p>This will produce a static library file named <code>libmathlib.a</code>.</p>
<p>Now, let's create a simple program that uses the library.</p>
<p><b>main.c</b>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;mathlib.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="_c_make_c_x_x_compiler_id_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>() {</div>
<div class="line">    <a class="code hl_class" href="class_vector__2d.html">printf</a>(<span class="stringliteral">&quot;Square of 5: %d\n&quot;</span>, <a class="code hl_class" href="class_vector__2d.html">square</a>(5));</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Compile the main program and link it with the static library:</p>
<div class="fragment"><div class="line">gcc main.c -L. -lmathlib -o main</div>
</div><!-- fragment --><p>Run the program:</p>
<div class="fragment"><div class="line">./main</div>
</div><!-- fragment --><p>This should output <code>Square of 5: 25</code>.</p>
<h2><a class="anchor" id="autotoc_md39"></a>
3. Dynamic Linking:</h2>
<p>To create a dynamic library:</p>
<div class="fragment"><div class="line">gcc -shared -o libmathlib.dylib mathlib.c</div>
</div><!-- fragment --><p>This will produce a dynamic library named <code><a class="el" href="class_vector__2d.html#a6d09fb691e01f179efcbef03bef13b9c">libmathlib.dylib</a></code>.</p>
<p>Compile the main program and link it with the dynamic library:</p>
<div class="fragment"><div class="line">gcc main.c -L. -lmathlib -o main</div>
</div><!-- fragment --><p>Before running the program, you need to ensure the OS knows where to find your dynamic library. You can temporarily set the library path as:</p>
<div class="fragment"><div class="line">export DYLD_LIBRARY_PATH=.:$DYLD_LIBRARY_PATH</div>
</div><!-- fragment --><p>Run the program:</p>
<div class="fragment"><div class="line">./main</div>
</div><!-- fragment --><p>Again, this should output <code>Square of 5: 25</code>.</p>
<p>Remember, static libraries (<code>.a</code> files) include the library's code directly in the application, resulting in a standalone executable. Dynamic libraries (<code>.dylib</code> files), on the other hand, are separate files that the application loads at runtime, which means they need to be accessible to the application either via standard library paths or through paths like <code>DYLD_LIBRARY_PATH</code> for macOS. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
