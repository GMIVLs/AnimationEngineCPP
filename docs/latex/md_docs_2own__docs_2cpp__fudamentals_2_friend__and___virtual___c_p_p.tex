\chapter{\texorpdfstring{$<$}{<}em\texorpdfstring{$>$}{>}What is Friend declaration\texorpdfstring{$<$}{<}/em\texorpdfstring{$>$}{>}}
\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2_friend__and___virtual___c_p_p}{}\label{md_docs_2own__docs_2cpp__fudamentals_2_friend__and___virtual___c_p_p}\index{$<$em$>$What is Friend declaration$<$/em$>$@{$<$em$>$What is Friend declaration$<$/em$>$}}
\label{md_docs_2own__docs_2cpp__fudamentals_2_friend__and___virtual___c_p_p_autotoc_md91}%
\Hypertarget{md_docs_2own__docs_2cpp__fudamentals_2_friend__and___virtual___c_p_p_autotoc_md91}%
 The friend declaration appears in a class body and grants a function or another class access to private and protected members of the class where the friend declaration appears.

\+\_\+\+\_\+\+\_\+\+Syntax\+\_\+\+\_\+\+\_\+

\begin{quote}
friend function-\/declaration (1) friend function-\/definition (2) friend elaborated-\/class-\/specifier ; (3) friend simple-\/type-\/specifier ; (4) (since C++11) friend typename-\/specifier ; (5) \end{quote}
\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2_friend__and___virtual___c_p_p_autotoc_md92}{}\doxysubsection{\texorpdfstring{$<$em$>$\+Description$<$/em$>$}{<em>Description</em>}}\label{md_docs_2own__docs_2cpp__fudamentals_2_friend__and___virtual___c_p_p_autotoc_md92}

\begin{DoxyItemize}
\item Designates a function or several functions as friends of this class\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{Y}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_s_d_l__opengl_8h_a740d7f00b044f54a556c7208e01f9f02}{data}};\ \textcolor{comment}{//\ private\ member}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ the\ non-\/member\ function\ operator<<\ will\ have\ access\ to\ Y's\ private\ members}}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ std::ostream\&\ \mbox{\hyperlink{logging_8h_a4108d325b90a6d1fb7377e77f08e80c3}{operator<<}}(std::ostream\&\ \mbox{\hyperlink{class_vector__2d}{out}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_vector__2d}{Y}}\&\ \mbox{\hyperlink{class_vector__2d}{o}});}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{X::foo}}(\textcolor{keywordtype}{int});\ \textcolor{comment}{//\ members\ of\ other\ classes\ can\ be\ friends\ too}}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{X::X}}(\textcolor{keywordtype}{char}),\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{X::\string~X}}();\ \textcolor{comment}{//\ constructors\ and\ destructors\ can\ be\ friends}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{comment}{//\ friend\ declaration\ does\ not\ declare\ a\ member\ function}}
\DoxyCodeLine{\textcolor{comment}{//\ this\ operator<<\ still\ needs\ to\ be\ defined,\ as\ a\ non-\/member}}
\DoxyCodeLine{std::ostream\&\ \mbox{\hyperlink{logging_8h_a4108d325b90a6d1fb7377e77f08e80c3}{operator<<}}(std::ostream\&\ \mbox{\hyperlink{class_vector__2d}{out}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_vector__2d}{Y}}\&\ \mbox{\hyperlink{_s_d_l__opengl_8h_a1675d9d7bb68e1657ff028643b4037e3}{y}})}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_vector__2d}{out}}\ <<\ \mbox{\hyperlink{_s_d_l__opengl_8h_a1675d9d7bb68e1657ff028643b4037e3}{y}}.data;\ \textcolor{comment}{//\ can\ access\ private\ member\ Y::data}}
\DoxyCodeLine{\}}

\end{DoxyCode}

\item (only allowed in non-\/local class definitions) Defines a non-\/member function, and makes it a friend of this class at the same time. Such non-\/member function is always inline, unless it is attached to a named module (since C++20).
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{X}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{friend\_set}}(\mbox{\hyperlink{class_vector__2d}{X}}\&\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_aa5367c14d90f462230c2611b81b41d23}{p}},\ \textcolor{keywordtype}{int}\ i)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_aa5367c14d90f462230c2611b81b41d23}{p}}.a\ =\ i;\ \textcolor{comment}{//\ this\ is\ a\ non-\/member\ function}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{member\_set}}(\textcolor{keywordtype}{int}\ i)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}}\ =\ i;\ \textcolor{comment}{//\ this\ is\ a\ member\ function}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\};}

\end{DoxyCode}



\begin{DoxyItemize}
\item Designates the class, struct, or union named by the elaborated-\/class-\/specifier (see elaborated type specifier) as a friend of this class. This means that the friend\textquotesingle{}s member declarations and definitions can access private and protected members of this class and also that the friend can inherit from private and protected members of this class. The name of the class that is used in this friend declaration does not need to be previously declared.
\item Designates the type named by the simple-\/type-\/specifier or typename-\/specifier as a friend of this class if that type is a (possibly cv-\/qualified) class, struct, or union; otherwise the friend declaration is ignored. This declaration will not forward declare a new type.
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{Y}}\ \{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{A}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_s_d_l__opengl_8h_a740d7f00b044f54a556c7208e01f9f02}{data}};\ \textcolor{comment}{//\ private\ data\ member}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{B}}\ \{\};\ \textcolor{comment}{//\ private\ nested\ type}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{enum}\ \{\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}}\ =\ 100\ \};\ \textcolor{comment}{//\ private\ enumerator}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{X}};\ \textcolor{comment}{//\ friend\ class\ forward\ declaration\ (elaborated\ class\ specifier)}}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{Y}};\ \textcolor{comment}{//\ friend\ class\ declaration\ (simple\ type\ specifier)\ (since\ c++11)}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{X}}\ :\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{A::B}}\ \textcolor{comment}{//\ OK:\ A::B\ accessible\ to\ friend}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{A::B}}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{mx}};\ \textcolor{comment}{//\ OK:\ A::B\ accessible\ to\ member\ of\ friend}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{Y}}}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{A::B}}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{my}};\ \textcolor{comment}{//\ OK:\ A::B\ accessible\ to\ nested\ member\ of\ friend}}
\DoxyCodeLine{\ \ \ \ \};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_s_d_l__opengl_8h_a55f85da29bf761fde63cc95d26300230}{v}}[A::a];\ \textcolor{comment}{//\ OK:\ A::a\ accessible\ to\ member\ of\ friend}}
\DoxyCodeLine{\};}

\end{DoxyCode}
\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2_friend__and___virtual___c_p_p_autotoc_md93}{}\doxysubsection{\texorpdfstring{$<$em$>$\+Notes$<$/em$>$}{<em>Notes</em>}}\label{md_docs_2own__docs_2cpp__fudamentals_2_friend__and___virtual___c_p_p_autotoc_md93}
\begin{quote}
Friendship is not transitive (a friend of your friend is not your friend). Friendship is not inherited (your friend\textquotesingle{}s children are not your friends, and your friends are not your children\textquotesingle{}s friends). \end{quote}
Storage class specifiers are not allowed in friend function declarations. A function that is defined in the friend declaration has external linkage, a function that was previously defined, keeps the linkage it was defined with. \begin{quote}
Access specifiers have no effect on the meaning of friend declarations (they can appear in private\+: or in public\+: sections, with no difference). A friend class declaration cannot define a new class (friend class X \{\}; is an error). \end{quote}
When a local class declares an unqualified function or class as a friend, only functions and classes in the innermost non-\/class scope are looked up, not the global functions\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{F}}\ \{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_c_make_c_x_x_compiler_id_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a9cd653b1648845554169fbc3a3f6d37a}{g}}();}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{Local}}\ \textcolor{comment}{//\ Local\ class\ in\ the\ main()\ function}}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \textcolor{comment}{//\ Error,\ no\ such\ function\ declared\ in\ main()}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a9cd653b1648845554169fbc3a3f6d37a}{g}}();\ \textcolor{comment}{//\ OK,\ there\ is\ a\ declaration\ for\ g\ in\ main()}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{F}};\ \textcolor{comment}{//\ friends\ a\ local\ F\ (defined\ later)}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keyword}{friend}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{class\ ::F}};\ \textcolor{comment}{//\ friends\ the\ global\ F}}
\DoxyCodeLine{\ \ \ \ \};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{F}}\ \{\};\ \textcolor{comment}{//\ local\ F}}
\DoxyCodeLine{\}}

\end{DoxyCode}


A name first declared in a friend declaration within a class or class template X becomes a member of the innermost enclosing namespace of X, but is not visible for lookup (except argument-\/dependent lookup that considers X) unless a matching declaration at namespace scope is provided -\/ see namespaces for details. Template friends Both function template and class template declarations may appear with the friend specifier in any non-\/local class or class template (although only function templates may be defined within the class or class template that is granting friendship). In this case, every specialization of the template becomes a friend, whether it is implicitly instantiated, partially specialized, or explicitly specialized.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{A}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{B}};\ \textcolor{comment}{//\ every\ B<T>\ is\ a\ friend\ of\ A}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}(\mbox{\hyperlink{class_vector__2d}{T}})\ \{\}\ \textcolor{comment}{//\ every\ f<T>\ is\ a\ friend\ of\ A}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\textcolor{comment}{//\ Friend\ declarations\ cannot\ refer\ to\ partial\ specializations,\ but\ can\ refer\ to\ full\ specializations:}}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{A}}\ \{\};\ \ \ \ \ \ \textcolor{comment}{//\ primary}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{A}}<\mbox{\hyperlink{class_vector__2d}{T}}*>\ \{\};\ \ \textcolor{comment}{//\ partial}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{template}<>}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{A}}<int>\ \{\};\ \textcolor{comment}{//\ full}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{X}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{A}}<\mbox{\hyperlink{class_vector__2d}{T}}*>;\ \ \textcolor{comment}{//\ error!}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{A}}<int>;\ \textcolor{comment}{//\ OK}}
\DoxyCodeLine{\};}

\end{DoxyCode}
 When a friend declaration refers to a full specialization of a function template, the keywords inline/constexpr (since C++11)/consteval (since C++20) and default arguments cannot be used\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}(\textcolor{keywordtype}{int});}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{template}<>}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{f<int>}}(\textcolor{keywordtype}{int});}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{X}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{f<int>}}(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_s_d_l__opengl_8h_abe1577120f1766eff913e9a74879f373}{x}}\ =\ 1);\ \textcolor{comment}{//\ error:\ default\ args\ not\ allowed}}
\DoxyCodeLine{\};}

\end{DoxyCode}


A template friend declaration can name a member of a class template A, which can be either a member function or a member type (the type must use elaborated-\/type-\/specifier). Such declaration is only well-\/formed if the last component in its nested-\/name-\/specifier (the name to the left of the last \+::) is a simple-\/template-\/id (template name followed by argument list in angle brackets) that names the class template. The template parameters of such template friend declaration must be deducible from the simple-\/template-\/id.

In this case, the member of any specialization of either A or partial specializations of A becomes a friend. This does not involve instantiating the primary template A or partial specializations of A\+: the only requirements are that the deduction of the template parameters of A from that specialization succeeds, and that substitution of the deduced template arguments into the friend declaration produces a declaration that would be a valid redeclaration of the member of the specialization\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{comment}{//\ primary\ template}}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{A}}}
\DoxyCodeLine{\{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{B}}\ \{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{D}}\ \{\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a9cd653b1648845554169fbc3a3f6d37a}{g}}();\ \};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{T}}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_afa0fb1b5e976920c0abeff2dca3ed774}{h}}();}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{template}<T\ U>}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{T}}\ i();}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{comment}{//\ full\ specialization}}
\DoxyCodeLine{\textcolor{keyword}{template}<>}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{A}}<int>}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{B}}\ \{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{D}}\ \{\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a9cd653b1648845554169fbc3a3f6d37a}{g}}();\ \};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{int}\ U>}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ i();}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{comment}{//\ another\ full\ specialization}}
\DoxyCodeLine{\textcolor{keyword}{template}<>}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{A}}<\mbox{\hyperlink{class_vector__2d}{float}}*>}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ *\mbox{\hyperlink{_s_d_l__opengl__glext_8h_afa0fb1b5e976920c0abeff2dca3ed774}{h}}();}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{comment}{//\ the\ non-\/template\ class\ granting\ friendship\ to\ members\ of\ class\ template\ A}}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{X}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{A}}<\mbox{\hyperlink{class_vector__2d}{T}}>::\mbox{\hyperlink{class_vector__2d}{B}};\ \textcolor{comment}{//\ all\ A<T>::B\ are\ friends,\ including\ A<int>::B}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{template}}<class\ T>}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{friend}}\ \mbox{\hyperlink{_s_d_l__opengl_8h_a46df6112013cf583e82b25cebd5cb499}{void}}\ \mbox{\hyperlink{class_vector__2d}{A}}<T>\mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{::f}}();\ \textcolor{comment}{//\ A<int>::f()\ is\ not\ a\ friend\ because\ its\ signature}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ does\ not\ match,\ but\ e.g.\ A<char>::f()\ is\ a\ friend}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{comment}{//\ \ template<class\ T>}}
\DoxyCodeLine{\textcolor{comment}{//\ \ friend\ void\ A<T>::D::g();\ //\ ill-\/formed,\ the\ last\ part\ of\ the\ nested-\/name-\/specifier,}}
\DoxyCodeLine{\textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ D\ in\ A<T>::D::,\ is\ not\ simple-\/template-\/id}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{template}}<class\ T>}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{friend}}\ int*\ \mbox{\hyperlink{class_vector__2d}{A}}<T*>\mbox{\hyperlink{_s_d_l__opengl__glext_8h_afa0fb1b5e976920c0abeff2dca3ed774}{::h}}();\ \textcolor{comment}{//\ all\ A<T*>::h\ are\ friends:}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ A<float*>::h(),\ A<int*>::h(),\ etc}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{template}}<class\ T>\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{template}}<T\ U>\ \ \ \ \ \ \ \textcolor{comment}{//\ all\ instantiations\ of\ A<T>::i()\ and\ A<int>::i()\ are\ friends,\ }}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{friend}}\ \mbox{\hyperlink{class_vector__2d}{T}}\ \mbox{\hyperlink{class_vector__2d}{A}}<T>::i();\ \textcolor{comment}{//\ and\ thereby\ all\ specializations\ of\ those\ function\ templates}}
\DoxyCodeLine{\};}

\end{DoxyCode}


Default template arguments are only allowed on template friend declarations if the declaration is a definition and no other declarations of this function template appear in this translation unit. (since C++11) Template friend operators A common use case for template friends is declaration of a non-\/member operator overload that acts on a class template, e.\+g. operator$<$$<$(std\+::ostream\&, const Foo$<$\+T$>$\&) for some user-\/defined Foo$<$\+T$>$. Such operator can be defined in the class body, which has the effect of generating a separate non-\/template operator\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} for each T and makes that non-\/template operator\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} a friend of its Foo$<$\+T$>$\+:

\+\_\+\+\_\+\+\_\+\+Try this code\+:\+\_\+\+\_\+\+\_\+


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{Foo}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{Foo}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_vector__2d}{T}}\&\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a26942fd2ed566ef553eae82d2c109c8f}{val}})\ :\ \mbox{\hyperlink{_s_d_l__opengl_8h_a740d7f00b044f54a556c7208e01f9f02}{data}}(\mbox{\hyperlink{_s_d_l__opengl__glext_8h_a26942fd2ed566ef553eae82d2c109c8f}{val}})\ \{\}}
\DoxyCodeLine{\textcolor{keyword}{private}:}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{T}}\ \mbox{\hyperlink{_s_d_l__opengl_8h_a740d7f00b044f54a556c7208e01f9f02}{data}};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ generates\ a\ non-\/template\ operator<<\ for\ this\ T}}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ std::ostream\&\ \mbox{\hyperlink{logging_8h_a4108d325b90a6d1fb7377e77f08e80c3}{operator<<}}(std::ostream\&\ \mbox{\hyperlink{class_vector__2d}{os}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_vector__2d}{Foo}}\&\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a0c0d4701a6c89f4f7f0640715d27ab26}{obj}})}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_vector__2d}{os}}\ <<\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a0c0d4701a6c89f4f7f0640715d27ab26}{obj}}.data;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_c_make_c_x_x_compiler_id_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Foo<double>}}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a0c0d4701a6c89f4f7f0640715d27ab26}{obj}}(1.23);}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a0c0d4701a6c89f4f7f0640715d27ab26}{obj}}\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{comment}{//\ Output:\ 1.23}}

\end{DoxyCode}
 or the function template has to be declared as a template before the class body, in which case the friend declaration within Foo$<$\+T$>$ can refer to the full specialization of operator\texorpdfstring{$<$}{<}\texorpdfstring{$<$}{<} for its T\+:

\+\_\+\+\_\+\+\_\+\+Try this code\+:\+\_\+\+\_\+\+\_\+


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{Foo}};\ \textcolor{comment}{//\ forward\ declare\ to\ make\ function\ declaration\ possible}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>\ \textcolor{comment}{//\ declaration}}
\DoxyCodeLine{std::ostream\&\ \mbox{\hyperlink{logging_8h_a4108d325b90a6d1fb7377e77f08e80c3}{operator<<}}(std::ostream\&,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_vector__2d}{Foo<T>}}\&);}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{Foo}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{Foo}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_vector__2d}{T}}\&\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a26942fd2ed566ef553eae82d2c109c8f}{val}})\ :\ \mbox{\hyperlink{_s_d_l__opengl_8h_a740d7f00b044f54a556c7208e01f9f02}{data}}(\mbox{\hyperlink{_s_d_l__opengl__glext_8h_a26942fd2ed566ef553eae82d2c109c8f}{val}})\ \{\}}
\DoxyCodeLine{\textcolor{keyword}{private}:}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{T}}\ \mbox{\hyperlink{_s_d_l__opengl_8h_a740d7f00b044f54a556c7208e01f9f02}{data}};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ refers\ to\ a\ full\ specialization\ for\ this\ particular\ T\ }}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ std::ostream\&\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{operator<<\ <>\ }}(std::ostream\&,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_vector__2d}{Foo}}\&);}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ note:\ this\ relies\ on\ template\ argument\ deduction\ in\ declarations}}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ can\ also\ specify\ the\ template\ argument\ with\ operator<<\ <T>"{}}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{comment}{//\ definition}}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{std::ostream\&\ \mbox{\hyperlink{logging_8h_a4108d325b90a6d1fb7377e77f08e80c3}{operator<<}}(std::ostream\&\ \mbox{\hyperlink{class_vector__2d}{os}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_vector__2d}{Foo<T>}}\&\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a0c0d4701a6c89f4f7f0640715d27ab26}{obj}})}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_vector__2d}{os}}\ <<\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a0c0d4701a6c89f4f7f0640715d27ab26}{obj}}.data;}
\DoxyCodeLine{\}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_c_make_c_x_x_compiler_id_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Foo<double>}}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a0c0d4701a6c89f4f7f0640715d27ab26}{obj}}(1.23);}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a0c0d4701a6c89f4f7f0640715d27ab26}{obj}}\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{\}}

\end{DoxyCode}


\+\_\+\+\_\+\+\_\+\+Example\+\_\+\+\_\+\+\_\+ Stream insertion and extraction operators are often declared as non-\/member friends\+:

Try this code


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{MyClass}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{int}\ i;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ friends\ have\ access\ to\ non-\/public,\ non-\/static}}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id}\{6\};\ \textcolor{comment}{//\ and\ static\ (possibly\ inline)\ members}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ std::ostream\&\ \mbox{\hyperlink{logging_8h_a4108d325b90a6d1fb7377e77f08e80c3}{operator<<}}(std::ostream\&\ \mbox{\hyperlink{class_vector__2d}{out}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_vector__2d}{MyClass}}\&);}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ std::istream\&\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{operator>>}}(std::istream\&\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a83ad0ee7f1e06b59c90271716e689080}{in}},\ \mbox{\hyperlink{class_vector__2d}{MyClass}}\&);}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{change\_id}}(\textcolor{keywordtype}{int});}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{MyClass}}(\textcolor{keywordtype}{int}\ i\ =\ 0)\ :\ i(i)\ \{\}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{std::ostream\&\ \mbox{\hyperlink{logging_8h_a4108d325b90a6d1fb7377e77f08e80c3}{operator<<}}(std::ostream\&\ \mbox{\hyperlink{class_vector__2d}{out}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_vector__2d}{MyClass}}\&\ \mbox{\hyperlink{class_vector__2d}{mc}})}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_vector__2d}{out}}\ <<\ \textcolor{stringliteral}{"{}MyClass::id\ =\ "{}}\ <<\ MyClass::id\ <<\ \textcolor{stringliteral}{"{};\ i\ =\ "{}}\ <<\ \mbox{\hyperlink{class_vector__2d}{mc}}.i;}
\DoxyCodeLine{\}}
\DoxyCodeLine{\ }
\DoxyCodeLine{std::istream\&\ \mbox{\hyperlink{class_vector__2d}{operator>>}}(std::istream\&\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a83ad0ee7f1e06b59c90271716e689080}{in}},\ \mbox{\hyperlink{class_vector__2d}{MyClass}}\&\ \mbox{\hyperlink{class_vector__2d}{mc}})}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a83ad0ee7f1e06b59c90271716e689080}{in}}\ >>\ \mbox{\hyperlink{class_vector__2d}{mc}}.i;}
\DoxyCodeLine{\}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d}{change\_id}}(\textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})\ \{\ MyClass::id\ =\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a58c2a664503e14ffb8f21012aabff3e9}{id}};\ \}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_c_make_c_x_x_compiler_id_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{MyClass}}\ \mbox{\hyperlink{class_vector__2d}{mc}}(7);}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \mbox{\hyperlink{class_vector__2d}{mc}}\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{\textcolor{comment}{//\ \ mc.i\ =\ 333*2;\ \ //\ error:\ i\ is\ a\ private\ member}}
\DoxyCodeLine{\ \ \ \ std::istringstream(\textcolor{stringliteral}{"{}100"{}})\ >>\ \mbox{\hyperlink{class_vector__2d}{mc}};}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \mbox{\hyperlink{class_vector__2d}{mc}}\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{\textcolor{comment}{//\ \ MyClass::id\ =\ 222*3;\ \ //\ error:\ id\ is\ a\ private\ member}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{change\_id}}(9);}
\DoxyCodeLine{\ \ \ \ std::cout\ <<\ \mbox{\hyperlink{class_vector__2d}{mc}}\ <<\ \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{comment}{/*}}
\DoxyCodeLine{\textcolor{comment}{Output:}}
\DoxyCodeLine{\textcolor{comment}{MyClass::id\ =\ 6;\ i\ =\ 7}}
\DoxyCodeLine{\textcolor{comment}{MyClass::id\ =\ 6;\ i\ =\ 100}}
\DoxyCodeLine{\textcolor{comment}{MyClass::id\ =\ 9;\ i\ =\ 100}}
\DoxyCodeLine{\textcolor{comment}{*/}}

\end{DoxyCode}


\#\+\_\+\+What is virtual Function Specifier\+\_\+

The virtual specifier specifies that a non-\/static member function is virtual and supports dynamic dispatch. It may only appear in the decl-\/specifier-\/seq of the initial declaration of a non-\/static member function (i.\+e., when it is declared in the class definition).

\+\_\+\+\_\+\+\_\+\+Explanation\+\_\+\+\_\+\+\_\+

Virtual functions are member functions whose behavior can be overridden in derived classes. As opposed to non-\/virtual functions, the overriding behavior is preserved even if there is no compile-\/time information about the actual type of the class. That is to say, if a derived class is handled using pointer or reference to the base class, a call to an overridden virtual function would invoke the behavior defined in the derived class. Such a function call is known as virtual function call or virtual call. Virtual function call is suppressed if the function is selected using qualified name lookup (that is, if the function\textquotesingle{}s name appears to the right of the scope resolution operator \+::).

\+\_\+\+\_\+\+\_\+\+Try this code\+\_\+\+\_\+\+\_\+


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{Base}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}()}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}base\(\backslash\)n"{}};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{Derived}}\ :\ \mbox{\hyperlink{class_vector__2d}{Base}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}()\ \mbox{\hyperlink{class_vector__2d}{override}}\ \textcolor{comment}{//\ 'override'\ is\ optional}}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}derived\(\backslash\)n"{}};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_c_make_c_x_x_compiler_id_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Base}}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Derived}}\ \mbox{\hyperlink{class_vector__2d}{d}};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ virtual\ function\ call\ through\ reference}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Base}}\&\ \mbox{\hyperlink{class_vector__2d}{br}}\ =\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}};\ \textcolor{comment}{//\ the\ type\ of\ br\ is\ Base\&}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Base}}\&\ \mbox{\hyperlink{class_vector__2d}{dr}}\ =\ \mbox{\hyperlink{class_vector__2d}{d}};\ \textcolor{comment}{//\ the\ type\ of\ dr\ is\ Base\&\ as\ well}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{br}}.f();\ \textcolor{comment}{//\ prints\ "{}base"{}}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{dr}}.f();\ \textcolor{comment}{//\ prints\ "{}derived"{}}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ virtual\ function\ call\ through\ pointer}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Base}}*\ \mbox{\hyperlink{class_vector__2d}{bp}}\ =\ \&\mbox{\hyperlink{_s_d_l__opengl__glext_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}};\ \textcolor{comment}{//\ the\ type\ of\ bp\ is\ Base*}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Base}}*\ \mbox{\hyperlink{class_vector__2d}{dp}}\ =\ \&\mbox{\hyperlink{class_vector__2d}{d}};\ \textcolor{comment}{//\ the\ type\ of\ dp\ is\ Base*\ as\ well}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{bp}}-\/>f();\ \textcolor{comment}{//\ prints\ "{}base"{}}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{dp}}-\/>f();\ \textcolor{comment}{//\ prints\ "{}derived"{}}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ non-\/virtual\ function\ call}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{br}}.Base::f();\ \textcolor{comment}{//\ prints\ "{}base"{}}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{dr}}.Base::f();\ \textcolor{comment}{//\ prints\ "{}base"{}}}
\DoxyCodeLine{\}}

\end{DoxyCode}


In detail If some member function vf is declared as virtual in a class Base, and some class Derived, which is derived, directly or indirectly, from Base, has a declaration for member function with the same name parameter type list (but not the return type) cv-\/qualifiers ref-\/qualifiers Then this function in the class Derived is also virtual (whether or not the keyword virtual is used in its declaration) and overrides \doxylink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{Base\+::vf} (whether or not the word override is used in its declaration). \doxylink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{Base\+::vf} does not need to be accessible or visible to be overridden. (\doxylink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{Base\+::vf} can be declared private, or Base can be inherited using private inheritance. Any members with the same name in a base class of Derived which inherits Base do not matter for override determination, even if they would hide \doxylink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{Base\+::vf} during name lookup.)


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{B}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{do\_f}}();\ \textcolor{comment}{//\ private\ member}}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}()\ \{\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{do\_f}}();\ \}\ \textcolor{comment}{//\ public\ interface}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{D}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_vector__2d}{B}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{do\_f}}()\ \textcolor{keyword}{override};\ \textcolor{comment}{//\ overrides\ B::do\_f}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_c_make_c_x_x_compiler_id_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{D}}\ \mbox{\hyperlink{class_vector__2d}{d}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{B}}*\ \mbox{\hyperlink{class_vector__2d}{bp}}\ =\ \&\mbox{\hyperlink{class_vector__2d}{d}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{bp}}-\/>f();\ \textcolor{comment}{//\ internally\ calls\ D::do\_f();}}
\DoxyCodeLine{\}}

\end{DoxyCode}


For every virtual function, there is the final overrider, which is executed when a virtual function call is made. A virtual member function vf of a base class Base is the final overrider unless the derived class declares or inherits (through multiple inheritance) another function that overrides vf.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{A}}\ \{\ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \};\ \ \ \ \ \textcolor{comment}{//\ A::f\ is\ virtual}}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{B}}\ :\ \mbox{\hyperlink{class_vector__2d}{A}}\ \{\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \};\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ B::f\ overrides\ A::f\ in\ B}}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{C}}\ :\ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector__2d}{B}}\ \{\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \};\ \textcolor{comment}{//\ C::f\ overrides\ A::f\ in\ C}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{D}}\ :\ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector__2d}{B}}\ \{\};\ \textcolor{comment}{//\ D\ does\ not\ introduce\ an\ overrider,\ B::f\ is\ final\ in\ D}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{E}}\ :\ \mbox{\hyperlink{class_vector__2d}{C}},\ \mbox{\hyperlink{class_vector__2d}{D}}\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ E\ does\ not\ introduce\ an\ overrider,\ C::f\ is\ final\ in\ E}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{using\ }A::f;\ \textcolor{comment}{//\ not\ a\ function\ declaration,\ just\ makes\ A::f\ visible\ to\ lookup}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_c_make_c_x_x_compiler_id_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{E}}\ \mbox{\hyperlink{class_vector__2d}{e}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{e}}.f();\ \ \ \ \textcolor{comment}{//\ virtual\ call\ calls\ C::f,\ the\ final\ overrider\ in\ e}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{e}}.E::f();\ \textcolor{comment}{//\ non-\/virtual\ call\ calls\ A::f,\ which\ is\ visible\ in\ E}}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{comment}{//If\ a\ function\ has\ more\ than\ one\ final\ overrider,\ the\ program\ is\ ill-\/formed:}}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{A}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{VB1}}\ :\ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector__2d}{A}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \textcolor{comment}{//\ overrides\ A::f}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{VB2}}\ :\ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector__2d}{A}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \textcolor{comment}{//\ overrides\ A::f}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{comment}{//\ struct\ Error\ :\ VB1,\ VB2}}
\DoxyCodeLine{\textcolor{comment}{//\ \{}}
\DoxyCodeLine{\textcolor{comment}{//\ \ \ \ \ //\ Error:\ A::f\ has\ two\ final\ overriders\ in\ Error}}
\DoxyCodeLine{\textcolor{comment}{//\ \};}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{Okay}}\ :\ \mbox{\hyperlink{class_vector__2d}{VB1}},\ \mbox{\hyperlink{class_vector__2d}{VB2}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \textcolor{comment}{//\ OK:\ this\ is\ the\ final\ overrider\ for\ A::f}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{VB1a}}\ :\ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector__2d}{A}}\ \{\};\ \textcolor{comment}{//\ does\ not\ declare\ an\ overrider}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{Da}}\ :\ \mbox{\hyperlink{class_vector__2d}{VB1a}},\ \mbox{\hyperlink{class_vector__2d}{VB2}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ in\ Da,\ the\ final\ overrider\ of\ A::f\ is\ VB2::f}}
\DoxyCodeLine{\};}

\end{DoxyCode}


A function with the same name but different parameter list does not override the base function of the same name, but hides it\+: when unqualified name lookup examines the scope of the derived class, the lookup finds the declaration and does not examine the base class.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{B}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{D}}\ :\ \mbox{\hyperlink{class_vector__2d}{B}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}(\textcolor{keywordtype}{int});\ \textcolor{comment}{//\ D::f\ hides\ B::f\ (wrong\ parameter\ list)}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{D2}}\ :\ \mbox{\hyperlink{class_vector__2d}{D}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \textcolor{comment}{//\ D2::f\ overrides\ B::f\ (doesn't\ matter\ that\ it's\ not\ visible)}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_c_make_c_x_x_compiler_id_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{B}}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{B}}\&\ \mbox{\hyperlink{class_vector__2d}{b\_as\_b}}\ =\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{D}}\ \mbox{\hyperlink{class_vector__2d}{d}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{B}}\&\ \mbox{\hyperlink{class_vector__2d}{d\_as\_b}}\ =\ \mbox{\hyperlink{class_vector__2d}{d}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{D}}\&\ \mbox{\hyperlink{class_vector__2d}{d\_as\_d}}\ =\ \mbox{\hyperlink{class_vector__2d}{d}};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{D2}}\ \mbox{\hyperlink{class_vector__2d}{d2}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{B}}\&\ \mbox{\hyperlink{class_vector__2d}{d2\_as\_b}}\ =\ \mbox{\hyperlink{class_vector__2d}{d2}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{D}}\&\ \mbox{\hyperlink{class_vector__2d}{d2\_as\_d}}\ =\ \mbox{\hyperlink{class_vector__2d}{d2}};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{b\_as\_b}}.f();\ \ \textcolor{comment}{//\ calls\ B::f()}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{d\_as\_b}}.f();\ \ \textcolor{comment}{//\ calls\ B::f()}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{d2\_as\_b}}.f();\ \textcolor{comment}{//\ calls\ D2::f()}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{d\_as\_d}}.f();\ \ \textcolor{comment}{//\ Error:\ lookup\ in\ D\ finds\ only\ f(int)}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{d2\_as\_d}}.f();\ \textcolor{comment}{//\ Error:\ lookup\ in\ D\ finds\ only\ f(int)}}
\DoxyCodeLine{\}}
\DoxyCodeLine{\textcolor{comment}{//If\ a\ function\ is\ declared\ with\ the\ specifier\ override,\ but\ does\ not\ override\ a\ virtual\ function,\ the\ program\ is\ ill-\/formed:}}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{B}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}(\textcolor{keywordtype}{int});}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{D}}\ :\ \mbox{\hyperlink{class_vector__2d}{B}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}(\textcolor{keywordtype}{int})\ \textcolor{keyword}{override};\ \ \textcolor{comment}{//\ OK,\ D::f(int)\ overrides\ B::f(int)}}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}(\textcolor{keywordtype}{long})\ \textcolor{keyword}{override};\ \textcolor{comment}{//\ Error:\ f(long)\ does\ not\ override\ B::f(int)}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\textcolor{comment}{//If\ a\ function\ is\ declared\ with\ the\ specifier\ final,\ and\ another\ function\ attempts\ to\ override\ it,\ the\ program\ is\ ill-\/formed:}}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{B}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}()\ \mbox{\hyperlink{class_vector__2d}{const}}\ \mbox{\hyperlink{class_vector__2d}{final}};}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\mbox{\hyperlink{class_vector__2d}{struct}}\ \mbox{\hyperlink{class_vector__2d}{D}}\ :\ \mbox{\hyperlink{class_vector__2d}{B}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}()\ \textcolor{keyword}{const};\ \textcolor{comment}{//\ Error:\ D::f\ attempts\ to\ override\ final\ B::f}}
\DoxyCodeLine{\};}

\end{DoxyCode}
 (since C++11)

Non-\/member functions and static member functions cannot be virtual. Function templates cannot be declared virtual. This applies only to functions that are themselves templates -\/ a regular member function of a class template can be declared virtual. Virtual functions (whether declared virtual or overriding one) cannot have any associated constraints.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{A}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}()\ \textcolor{keyword}{requires}\ \mbox{\hyperlink{class_vector__2d}{true}};\ \textcolor{comment}{//\ Error:\ constrained\ virtual\ function}}
\DoxyCodeLine{\};}

\end{DoxyCode}
 A consteval virtual function must not override or be overidden by a non-\/consteval virtual function. (since C++20)

Default arguments for virtual functions are substituted at the compile time. Covariant return types If the function Derived\+::f overrides a function Base\+::f, their return types must either be the same or be covariant. Two types are covariant if they satisfy all of the following requirements\+: both types are pointers or references (lvalue or rvalue) to classes. Multi-\/level pointers or references are not allowed. the referenced/pointed-\/to class in the return type of Base\+::f() must be an unambiguous and accessible direct or indirect base class of the referenced/pointed-\/to class of the return type of Derived\+::f(). the return type of Derived\+::f() must be equally or less cv-\/qualified than the return type of Base\+::f(). The class in the return type of Derived\+::f must be either Derived itself, or must be a complete type at the point of declaration of Derived\+::f. When a virtual function call is made, the type returned by the final overrider is implicitly converted to the return type of the overridden function that was called\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{B}}\ \{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{Base}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{vf1}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{vf2}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{vf3}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector__2d}{B}}*\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{vf4}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector__2d}{B}}*\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{vf5}}();}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{D}}\ :\ \textcolor{keyword}{private}\ \mbox{\hyperlink{class_vector__2d}{B}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{Derived}};\ \textcolor{comment}{//\ in\ Derived,\ B\ is\ an\ accessible\ base\ of\ D}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{A}};\ \textcolor{comment}{//\ forward-\/declared\ class\ is\ an\ incomplete\ type}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{Derived}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_vector__2d}{Base}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{vf1}}();\ \ \ \ \textcolor{comment}{//\ virtual,\ overrides\ Base::vf1()}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{vf2}}(\textcolor{keywordtype}{int});\ \textcolor{comment}{//\ non-\/virtual,\ hides\ Base::vf2()}}
\DoxyCodeLine{\textcolor{comment}{//\ \ char\ vf3();\ \ \ \ //\ Error:\ overrides\ Base::vf3,\ but\ has\ different}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ and\ non-\/covariant\ return\ type}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{D}}*\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{vf4}}();\ \ \ \ \ \ \textcolor{comment}{//\ overrides\ Base::vf4()\ and\ has\ covariant\ return\ type}}
\DoxyCodeLine{\textcolor{comment}{//\ \ A*\ vf5();\ \ \ \ \ \ //\ Error:\ A\ is\ incomplete\ type}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_c_make_c_x_x_compiler_id_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Derived}}\ \mbox{\hyperlink{class_vector__2d}{d}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Base}}\&\ \mbox{\hyperlink{class_vector__2d}{br}}\ =\ \mbox{\hyperlink{class_vector__2d}{d}};}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Derived}}\&\ \mbox{\hyperlink{class_vector__2d}{dr}}\ =\ \mbox{\hyperlink{class_vector__2d}{d}};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{br}}.vf1();\ \textcolor{comment}{//\ calls\ Derived::vf1()}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{br}}.vf2();\ \textcolor{comment}{//\ calls\ Base::vf2()}}
\DoxyCodeLine{\textcolor{comment}{//\ \ dr.vf2();\ //\ Error:\ vf2(int)\ hides\ vf2()}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{B}}*\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_aa5367c14d90f462230c2611b81b41d23}{p}}\ =\ \mbox{\hyperlink{class_vector__2d}{br}}.vf4();\ \textcolor{comment}{//\ calls\ Derived::vf4()\ and\ converts\ the\ result\ to\ B*}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{D}}*\ \mbox{\hyperlink{_s_d_l__opengl_8h_a8fc1e7b9baaae687804c7eed46ca09c6}{q}}\ =\ \mbox{\hyperlink{class_vector__2d}{dr}}.vf4();\ \textcolor{comment}{//\ calls\ Derived::vf4()\ and\ does\ not\ convert\ the\ result\ to\ B*}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2_friend__and___virtual___c_p_p_autotoc_md94}{}\doxysubsection{\texorpdfstring{\+\_\+\+\_\+\+\_\+\+Virtual destructor\+\_\+\+\_\+\+\_\+}{\_\_\_Virtual destructor\_\_\_}}\label{md_docs_2own__docs_2cpp__fudamentals_2_friend__and___virtual___c_p_p_autotoc_md94}
Even though destructors are not inherited, if a base class declares its destructor virtual, the derived destructor always overrides it. This makes it possible to delete dynamically allocated objects of polymorphic type through pointers to base.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{Base}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{\string~Base}}()\ \{\ \textcolor{comment}{/*\ releases\ Base's\ resources\ */}\ \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{class\ }\mbox{\hyperlink{class_vector__2d}{Derived}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_vector__2d}{Base}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{\string~Derived}}()\ \{\ \textcolor{comment}{/*\ releases\ Derived's\ resources\ */}\ \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keywordtype}{int}\ \mbox{\hyperlink{_c_make_c_x_x_compiler_id_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}}()}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d}{Base}}*\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_vector__2d}{Derived}};}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{delete}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}};\ \textcolor{comment}{//\ Makes\ a\ virtual\ function\ call\ to\ Base::\string~Base()}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ since\ it\ is\ virtual,\ it\ calls\ Derived::\string~Derived()\ which\ can}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ release\ resources\ of\ the\ derived\ class,\ and\ then\ calls}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Base::\string~Base()\ following\ the\ usual\ order\ of\ destruction}}
\DoxyCodeLine{\}}

\end{DoxyCode}


Moreover, if the destructor of the base class is not virtual, deleting a derived class object through a pointer to the base class is undefined behavior regardless of whether there are resources that would be leaked if the derived destructor is not invoked, unless the selected deallocation function is a destroying operator delete (since C++20). A useful guideline is that the destructor of any base class must be public and virtual or protected and non-\/virtual, whenever delete expressions are involved, e.\+g. when implicitly used in std\+::unique\+\_\+ptr (since C++11). During construction and destruction When a virtual function is called directly or indirectly from a constructor or from a destructor (including during the construction or destruction of the class’s non-\/static data members, e.\+g. in a member initializer list), and the object to which the call applies is the object under construction or destruction, the function called is the final overrider in the constructor’s or destructor’s class and not one overriding it in a more-\/derived class. In other words, during construction or destruction, the more-\/derived classes do not exist. When constructing a complex class with multiple branches, within a constructor that belongs to one branch, polymorphism is restricted to that class and its bases\+: if it obtains a pointer or reference to a base subobject outside this subhierarchy, and attempts to invoke a virtual function call (e.\+g. using explicit member access), the behavior is undefined\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ ++}
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{V}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a9cd653b1648845554169fbc3a3f6d37a}{g}}();}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{A}}\ :\ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector__2d}{V}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \textcolor{comment}{//\ A::f\ is\ the\ final\ overrider\ of\ V::f\ in\ A}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{B}}\ :\ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_vector__2d}{V}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a9cd653b1648845554169fbc3a3f6d37a}{g}}();\ \textcolor{comment}{//\ B::g\ is\ the\ final\ overrider\ of\ V::g\ in\ B}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{B}}(\mbox{\hyperlink{class_vector__2d}{V}}*,\ \mbox{\hyperlink{class_vector__2d}{A}}*);}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{keyword}{struct\ }\mbox{\hyperlink{class_vector__2d}{D}}\ :\ \mbox{\hyperlink{class_vector__2d}{A}},\ \mbox{\hyperlink{class_vector__2d}{B}}}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \textcolor{comment}{//\ D::f\ is\ the\ final\ overrider\ of\ V::f\ in\ D}}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a9cd653b1648845554169fbc3a3f6d37a}{g}}();\ \textcolor{comment}{//\ D::g\ is\ the\ final\ overrider\ of\ V::g\ in\ D}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//\ note:\ A\ is\ initialized\ before\ B}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{D}}()\ :\ \mbox{\hyperlink{class_vector__2d}{B}}((\mbox{\hyperlink{class_vector__2d}{A}}*)\ \mbox{\hyperlink{class_vector__2d}{this}},\ \mbox{\hyperlink{class_vector__2d}{this}})\ \{\}}
\DoxyCodeLine{\};}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{comment}{//\ the\ constructor\ of\ B,\ called\ from\ the\ constructor\ of\ D\ }}
\DoxyCodeLine{\mbox{\hyperlink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{B::B}}(\mbox{\hyperlink{class_vector__2d}{V}}*\ \mbox{\hyperlink{_s_d_l__opengl_8h_a55f85da29bf761fde63cc95d26300230}{v}},\ \mbox{\hyperlink{class_vector__2d}{A}}*\ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}})}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a7a611b28eaed9ea8dda79c38887b3f0e}{f}}();\ \textcolor{comment}{//\ virtual\ call\ to\ V::f\ (although\ D\ has\ the\ final\ overrider,\ D\ doesn't\ exist)}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_a9cd653b1648845554169fbc3a3f6d37a}{g}}();\ \textcolor{comment}{//\ virtual\ call\ to\ B::g,\ which\ is\ the\ final\ overrider\ in\ B\ }}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{_s_d_l__opengl_8h_a55f85da29bf761fde63cc95d26300230}{v}}-\/>g();\ \textcolor{comment}{//\ v's\ type\ V\ is\ base\ of\ B,\ virtual\ call\ calls\ B::g\ as\ before}}
\DoxyCodeLine{\ }
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{_s_d_l__opengl__glext_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}}-\/>f();\ \textcolor{comment}{//\ a’s\ type\ A\ is\ not\ a\ base\ of\ B.\ it\ belongs\ to\ a\ different\ branch\ of\ the}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ hierarchy.\ Attempting\ a\ virtual\ call\ through\ that\ branch\ causes}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ undefined\ behavior\ even\ though\ A\ was\ already\ fully\ constructed\ in\ this}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ case\ (it\ was\ constructed\ before\ B\ since\ it\ appears\ before\ B\ in\ the\ list}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ of\ the\ bases\ of\ D).\ In\ practice,\ the\ virtual\ call\ to\ A::f\ will\ be}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ attempted\ using\ B's\ virtual\ member\ function\ table,\ since\ that's\ what}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ is\ active\ during\ B's\ construction)}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 