\chapter{LLDB Debugger in Mac\+OS for CPP -\/ Using lldb command line}
\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli}{}\label{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli}\index{LLDB Debugger in MacOS for CPP -\/ Using lldb command line@{LLDB Debugger in MacOS for CPP -\/ Using lldb command line}}
\label{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md113}%
\Hypertarget{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md113}%



\begin{DoxyItemize}
\item Content
\item Example Project
\begin{DoxyItemize}
\item Step-\/1 Build your binary
\item Step-\/2 Running the LLDB
\item Step-\/3 Set a breakpoint
\item Setup-\/4 Run again
\end{DoxyItemize}
\item Other command line for lldb very much useful
\item References
\end{DoxyItemize}\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md114}{}\doxysection{\texorpdfstring{Content}{Content}}\label{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md114}
How to run a debugging in command line using the {\ttfamily lldb} which is used to understand more about how the program is running. I will demonstrate here with an example to make it easy to be used later.\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md115}{}\doxysection{\texorpdfstring{Example Project}{Example Project}}\label{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md115}

\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} Assume we are having the following structure. !\mbox{[}\mbox{[}Pasted image \doxylink{class_vector__2d_a6d09fb691e01f179efcbef03bef13b9c}{20230824233713.\+png}\mbox{]}\mbox{]}
\end{DoxyItemize}\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md116}{}\doxysubsection{\texorpdfstring{Step-\/1 Build your binary}{Step-1 Build your binary}}\label{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md116}

\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} It is very important to use the flag {\ttfamily -\/g} for your complier, later I discovered that if you don\textquotesingle{}t use it the setting breakpoint for the {\ttfamily lldb} will not work. Its crucial to add this flag \texorpdfstring{$>$}{>} When you don\textquotesingle{}t compile with the {\ttfamily -\/g} flag, the generated binary lacks all this essential debug information. Consequently, trying to set a breakpoint on a specific line of source code would be meaningless to the debugger, as it wouldn\textquotesingle{}t have the mapping from that line to a specific location in the binary. That\textquotesingle{}s why you encounter issues when trying to debug a binary that hasn\textquotesingle{}t been compiled with debug information.
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{clang++\ -\/std=c++17\ -\/g\ ./src/main.cpp\ -\/o\ ./build/debug/main\ \&\&\ ./build/debug/main}

\end{DoxyCode}



\begin{DoxyItemize}
\item Notice how we added the flag {\ttfamily -\/g} as we stated.
\begin{DoxyItemize}
\item This flag is automatic in {\ttfamily Rust} which is not available in {\ttfamily CPP}, so we have to add it manually.
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md117}{}\doxysubsection{\texorpdfstring{Step-\/2 Running the LLDB}{Step-2 Running the LLDB}}\label{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md117}

\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} Here you have two options first either you provide the {\ttfamily binary} at the starting of the {\ttfamily lldb} as shown below
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{lldb\ ./build/debug/main}

\end{DoxyCode}



\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} Or by running the CLI inside
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{(lldb)\ target\ create\ ./build/debug/main}

\end{DoxyCode}



\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} It is much effective at this point to run while inside the lldb the value
\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} Use {\ttfamily r} or {\ttfamily run} after you created the target, this will ensure to run the binary and connect it to your files.
\item \mbox{[}x\mbox{]} Always you can use {\ttfamily tab} to autocomplete the command and seek other options offered by the {\ttfamily lldb}.
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md118}{}\doxysubsection{\texorpdfstring{Step-\/3 Set a breakpoint}{Step-3 Set a breakpoint}}\label{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md118}
Setting a breakpoint will work once you built your binary using the {\ttfamily -\/g} flag, and it will offer you also auto-\/complete to your commands and will understand where to find the files.


\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} Setting a breakpoint can be done by several ways, the easiest way is to use\+:
\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} I am running the following command at the root directory, so it will understand there is a file inside {\ttfamily src} directory even if I don\textquotesingle{}t specify as you can see in the command below\+:
\end{DoxyItemize}
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{(lldbinit)\ breakpoint\ set\ -\/-\/file\ main.cpp\ -\/-\/line\ 83}

\end{DoxyCode}



\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} You have to be sure about where to set your breakpoint, usually inside a {\ttfamily for-\/loop} so we can track the changes, and not exit immediately once we run.
\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} There is also another way if you have several files and you want to set a breakpoint at specific function that you know the function name, you can use
\end{DoxyItemize}
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{(lldbinit)\ breakpoint\ set\ -\/-\/name\ <function\_name>}
\DoxyCodeLine{\#\ Example}
\DoxyCodeLine{(lldbinit)\ breakpoint\ set\ -\/-\/name\ main}

\end{DoxyCode}



\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} To list all breakpoints you can use
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{(lldb)\ breakpoint\ list}

\end{DoxyCode}
\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md119}{}\doxysubsection{\texorpdfstring{Setup-\/4 Run again}{Setup-4 Run again}}\label{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md119}

\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} Run the {\ttfamily lldb} again and it will run and stop at the breakpoint that you set it ,
\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} There are two commands that I use often, these are {\ttfamily print \texorpdfstring{$<$}{<}variable\texorpdfstring{$>$}{>}} or {\ttfamily p var} which will show the value, can also be used for expression,
\item \mbox{[}x\mbox{]} Also I read the memory address of a given variable using {\ttfamily memory read \&variable} (usually it is necessary to use the {\ttfamily \&} in front the variable name)
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md120}{}\doxysection{\texorpdfstring{Other command line for lldb very much useful}{Other command line for lldb very much useful}}\label{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md120}
The following commands are very much useful and I use them a lot when I run debugging in {\ttfamily C++},

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Command Group}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Command}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Description}}    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Command Group}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Command}}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\bfseries{Description}}    }\\\cline{1-3}
\endhead
{\bfseries{Program Execution}}   &{\ttfamily run} or {\ttfamily r}   &Start or restart the debugged program.    \\\cline{1-3}
&{\ttfamily continue} or {\ttfamily c}   &Continue execution after stopping at a breakpoint.    \\\cline{1-3}
&{\ttfamily step} or {\ttfamily s}   &Execute next line, step into functions.    \\\cline{1-3}
&{\ttfamily next} or {\ttfamily n}   &Execute next line, step over functions.    \\\cline{1-3}
&{\ttfamily finish} or {\ttfamily f}   &Execute until the current function completes.    \\\cline{1-3}
&{\ttfamily kill}   &Terminate the running program.    \\\cline{1-3}
{\bfseries{Breakpoints}}   &{\ttfamily breakpoint set -\/-\/name \texorpdfstring{$<$}{<}function\+\_\+name\texorpdfstring{$>$}{>}}   &Set breakpoint on a function.    \\\cline{1-3}
&{\ttfamily breakpoint set -\/-\/file \texorpdfstring{$<$}{<}file\+\_\+name\texorpdfstring{$>$}{>} -\/-\/line \texorpdfstring{$<$}{<}line\+\_\+number\texorpdfstring{$>$}{>}}   &Set breakpoint on a specific line.    \\\cline{1-3}
&{\ttfamily breakpoint list}   &List all breakpoints.    \\\cline{1-3}
&{\ttfamily breakpoint delete \texorpdfstring{$<$}{<}breakpoint\+\_\+id\texorpdfstring{$>$}{>}}   &Remove a breakpoint.    \\\cline{1-3}
&{\ttfamily breakpoint enable \texorpdfstring{$<$}{<}breakpoint\+\_\+id\texorpdfstring{$>$}{>}}   &Enable a breakpoint.    \\\cline{1-3}
&{\ttfamily breakpoint disable \texorpdfstring{$<$}{<}breakpoint\+\_\+id\texorpdfstring{$>$}{>}}   &Disable a breakpoint without deleting it.    \\\cline{1-3}
{\bfseries{Inspecting State}}   &{\ttfamily print \texorpdfstring{$<$}{<}expression\texorpdfstring{$>$}{>}} or {\ttfamily p \texorpdfstring{$<$}{<}expression\texorpdfstring{$>$}{>}}   &Print value of an expression/variable.    \\\cline{1-3}
&{\ttfamily frame variable} or {\ttfamily fr v}   &Display local variables.    \\\cline{1-3}
&{\ttfamily frame select \texorpdfstring{$<$}{<}index\texorpdfstring{$>$}{>}}   &Select a different frame.    \\\cline{1-3}
{\bfseries{Stack \& Thread}}   &{\ttfamily thread list}   &List all threads.    \\\cline{1-3}
&{\ttfamily thread select \texorpdfstring{$<$}{<}thread\+\_\+id\texorpdfstring{$>$}{>}}   &Switch to a different thread.    \\\cline{1-3}
&{\ttfamily bt} or {\ttfamily backtrace}   &Display the current thread\textquotesingle{}s call stack.    \\\cline{1-3}
{\bfseries{Memory \& Registers}}   &{\ttfamily memory read \texorpdfstring{$<$}{<}address\texorpdfstring{$>$}{>}} or {\ttfamily x \texorpdfstring{$<$}{<}address\texorpdfstring{$>$}{>}}   &Read memory from an address.    \\\cline{1-3}
&{\ttfamily register read}   &Display all registers.    \\\cline{1-3}
&{\ttfamily register read \texorpdfstring{$<$}{<}register\+\_\+name\texorpdfstring{$>$}{>}}   &Display a specific register.    \\\cline{1-3}
{\bfseries{File \& Source Navigation}}   &{\ttfamily list}   &Display source code around current line.    \\\cline{1-3}
&{\ttfamily list \texorpdfstring{$<$}{<}file\+\_\+name\texorpdfstring{$>$}{>}\+:\texorpdfstring{$<$}{<}line\+\_\+number\texorpdfstring{$>$}{>}}   &Display source code around specified line.    \\\cline{1-3}
{\bfseries{Watchpoints}}   &{\ttfamily watchpoint set variable \texorpdfstring{$<$}{<}variable\+\_\+name\texorpdfstring{$>$}{>}}   &Set watchpoint on a variable.    \\\cline{1-3}
&{\ttfamily watchpoint list}   &List all watchpoints.    \\\cline{1-3}
&{\ttfamily watchpoint delete \texorpdfstring{$<$}{<}watchpoint\+\_\+id\texorpdfstring{$>$}{>}}   &Remove a watchpoint.    \\\cline{1-3}
{\bfseries{Handling Input/\+Output}}   &{\ttfamily process launch -\/-\/ \texorpdfstring{$<$}{<}args\texorpdfstring{$>$}{>}}   &Start program with arguments.    \\\cline{1-3}
&{\ttfamily process handle \texorpdfstring{$<$}{<}signal\+\_\+name\texorpdfstring{$>$}{>} -\/-\/stop}   &Stop program on a specific signal.    \\\cline{1-3}
{\bfseries{Miscellaneous}}   &{\ttfamily help}   &Display command help.    \\\cline{1-3}
&{\ttfamily quit} or {\ttfamily q}   &Exit LLDB.    \\\cline{1-3}
&{\ttfamily settings set target.\+input-\/path \texorpdfstring{$<$}{<}file\texorpdfstring{$>$}{>}}   &Redirect input from a file.    \\\cline{1-3}
&{\ttfamily settings set target.\+output-\/path \texorpdfstring{$<$}{<}file\texorpdfstring{$>$}{>}}   &Redirect output to a file.    \\\cline{1-3}
{\bfseries{Loading Scripts \& Extensions}}   &{\ttfamily command script import \texorpdfstring{$<$}{<}path\+\_\+to\+\_\+python\+\_\+script\texorpdfstring{$>$}{>}}   &Load a Python script to extend LLDB functionalities.   \\\cline{1-3}
\end{longtabu}


This table provides an organized reference for the common LLDB commands. Remember, you can always use the {\ttfamily help} command in LLDB for more detailed information on any specific command.\hypertarget{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md121}{}\doxysection{\texorpdfstring{References}{References}}\label{md_docs_2own__docs_2cpp__fudamentals_2lldb__debuger__in__mac_o_s__cli_autotoc_md121}

\begin{DoxyItemize}
\item \mbox{[}x\mbox{]} \href{https://lldb.llvm.org/use/tutorial.html}{\texttt{ Tutorial — The LLDB Debugger}} 
\end{DoxyItemize}