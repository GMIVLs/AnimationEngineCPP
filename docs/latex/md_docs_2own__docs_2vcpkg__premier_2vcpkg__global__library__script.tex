\chapter{vcpkg global script}
\hypertarget{md_docs_2own__docs_2vcpkg__premier_2vcpkg__global__library__script}{}\label{md_docs_2own__docs_2vcpkg__premier_2vcpkg__global__library__script}\index{vcpkg global script@{vcpkg global script}}
\label{md_docs_2own__docs_2vcpkg__premier_2vcpkg__global__library__script_autotoc_md258}%
\Hypertarget{md_docs_2own__docs_2vcpkg__premier_2vcpkg__global__library__script_autotoc_md258}%

\begin{DoxyItemize}
\item The following script is written in {\ttfamily python} which will allow us to get all the installed libraries in the {\ttfamily vcpkg} locally.
\begin{DoxyItemize}
\item run this script at the directory of the {\ttfamily vcpkg}, which I installed at {\ttfamily \$HOME/vcpkg/}
\item It will go and check all the installed packages that fetched locally for each given project as {\ttfamily \$HOME/vcpkg/installed/}
\item For a given project, the libraries are installed at {\ttfamily vcpkg\+\_\+installed} which will create a copy as well at {\ttfamily \$HOME/vcpkge/installed}.
\item For global installtion assume you run {\ttfamily vcpkg install \texorpdfstring{$<$}{<}pakcage\+\_\+name\texorpdfstring{$>$}{>}} it will be located at {\ttfamily \$HOME/vcpkg/packages/}.
\end{DoxyItemize}
\item The script is\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{import}\ re}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Read\ the\ status\ file}}
\DoxyCodeLine{\textcolor{keyword}{with}\ \mbox{\hyperlink{class_vector__2d}{open}}(\textcolor{stringliteral}{"{}installed/vcpkg/status"{}},\ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\ \ \ \ content\ =\ f.read()}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Regular\ expression\ to\ capture\ package\ name\ and\ version}}
\DoxyCodeLine{pattern\ =\ re.compile(\textcolor{stringliteral}{r"{}\string^Package:\ (\(\backslash\)w+).*?\string^Version:\ ([\(\backslash\)w\(\backslash\).\(\backslash\)-\/]+)"{}},\ re.DOTALL\ |\ re.MULTILINE)}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Extract\ package\ names\ and\ versions}}
\DoxyCodeLine{packages\ =\ pattern.findall(content)}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Create\ a\ manifest\ dictionary}}
\DoxyCodeLine{manifest\ =\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}name"{}}:\ \textcolor{stringliteral}{"{}my-\/project"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}version-\/string"{}}:\ \textcolor{stringliteral}{"{}0.1.0"{}},}
\DoxyCodeLine{\ \ \ \ \textcolor{stringliteral}{"{}dependencies"{}}:\ [\{\textcolor{stringliteral}{"{}name"{}}:\ pkg,\ \textcolor{stringliteral}{"{}version>="{}}:\ ver\}\ \textcolor{keywordflow}{for}\ pkg,\ ver\ \textcolor{keywordflow}{in}\ packages]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Write\ the\ manifest\ to\ a\ vcpkg.json\ file}}
\DoxyCodeLine{\textcolor{keyword}{with}\ \mbox{\hyperlink{class_vector__2d}{open}}(\textcolor{stringliteral}{"{}vcpkg.json"{}},\ \textcolor{stringliteral}{"{}w"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\ \ \ \ f.write(str(manifest).\mbox{\hyperlink{class_vector__2d}{replace}}(\textcolor{stringliteral}{"{}'"{}},\ \textcolor{stringliteral}{'"{}'}))}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{class_vector__2d}{print}}(\textcolor{stringliteral}{"{}vcpkg.json\ generated\ successfully!"{}})}

\end{DoxyCode}
 